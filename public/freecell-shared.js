!function o(a,u,l){function s(t,e){if(!u[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=u[t]={exports:{}};a[t][0].call(i.exports,function(e){return s(a[t][1][e]||e)},i,i.exports,o,a,u,l)}return u[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({1:[function(e,i,t){!function(e){function a(e,t,n,r,i){this._listener=t,this._isOnce=n,this.context=r,this._signal=e,this._priority=i||0}function r(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function t(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){t.prototype.dispatch.apply(e,arguments)}}t.prototype={VERSION:"1.0.0",memorize:!(a.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}),_shouldPropagate:!0,active:!0,_registerListener:function(e,t,n,r){var i,o=this._indexOfListener(e,n);if(-1!==o){if((i=this._bindings[o]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else i=new a(this,e,t,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(e){for(var t=this._bindings.length;--t,this._bindings[t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r])._listener===e&&n.context===t)return r;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return r(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return r(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){r(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r)for(t=this._bindings.slice(),this._shouldPropagate=!0;t[--r]&&this._shouldPropagate&&!1!==t[r].execute(n););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var n=t;n.Signal=t,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==i&&i.exports?i.exports=n:e.signals=n}(this)},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=e("signals");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function a(e,t,n,r){var i,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}(this,s(a).call(this,e,t,n,r)),f(c(i),"onClick",new u.Signal),f(c(i),"_texture",null),f(c(i),"_textureOnClick",null),e.children.add(c(i)),i._texture=r,i._textureOnClick=o,i.setInteractive(),i.on("pointerdown",function(){return i._clickDown()}),i.on("pointerup",function(){return i._clickUp()}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(a,Phaser.GameObjects.Sprite),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"_clickDown",value:function(){this._textureOnClick&&this.setTexture(this._textureOnClick)}},{key:"_clickUp",value:function(){this.onClick.dispatch(),this._textureOnClick&&this.setTexture(this._texture)}}]),a}();n.default=o},{signals:1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=e("signals"))&&r.__esModule?r:{default:r};function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function a(e,t,n,r,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}(this,s(a).call(this,e,t,n)),f(c(o),"onClick",new u.default),f(c(o),"onDrag",new u.default),f(c(o),"_number",-1),f(c(o),"_color",-1),f(c(o),"_texture","cards"),f(c(o),"_flipped",!0),f(c(o),"_dragging",!1),f(c(o),"_draggable",!0),f(c(o),"previous",null),f(c(o),"nested",null),f(c(o),"_order",null),o.depth=0,e.children.add(c(o)),o.color=i,o.number=r,o.setInteractive({draggable:!0}),o.on("pointerup",function(){return o.onClick.dispatch(c(o))},c(o)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(a,Phaser.GameObjects.Sprite),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(a,[{key:"_changeTexture",value:function(){if(this._flipped)this.setTexture("flipped_card");else if(0<=this._number&&0<=this._color){var e=13*this._color+this._number-1;this.setTexture(this._texture,e)}}},{key:"flip",value:function(e){var t=0<arguments.length&&void 0!==e&&e;this._flipped=t,this._changeTexture()}},{key:"dragStart",value:function(){this._draggable&&(this._tween&&(this._tween.stop(),this.x=this._tween.goTo.x,this.y=this._tween.goTo.y,this._tween=null),this._dragging=!0,this._order=this.depth,this.setDepth(1500+this._order),this.previous={x:this.x,y:this.y})}},{key:"setOrder",value:function(e){null===this._order?this.setDepth(e):(this._order=e,this.setDepth(1500+e))}},{key:"drag",value:function(e,t){this._dragging&&(this.x=e,this.y=t)}},{key:"dragEnd",value:function(){this._dragging&&(this._dragging=!1,this.setDepth(this._order),this._order=null,this.onDrag.dispatch(this))}},{key:"goTo",value:function(e,t,n){var r=this,i=2<arguments.length&&void 0!==n?n:400;this._order=this.depth,this.setDepth(1500+this._order),this._draggable=!1,this._tween=this.scene.add.tween({targets:this,x:e,y:t,duration:i,ease:"Power3",onComplete:function(){r._draggable=!0,r.setDepth(r._order),r._order=null}}),this._tween.goTo={x:e,y:t}}},{key:"color",set:function(e){if(e<0||3<e)throw new Error("errol");this._color=e,this._changeTexture()},get:function(){return this._color}},{key:"number",set:function(e){if(!(0<e&&e<14))throw new Error("error");this._number=e,this._changeTexture()},get:function(){return this._number}},{key:"id",get:function(){return btoa("".concat(this._number,"x").concat(this._color))}},{key:"flipped",get:function(){return this._flipped}}]),a}();n.default=a},{signals:1}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=e("signals");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(){function a(e,t,n,r,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?c(e):t}(this,s(a).call(this,e,t,n,r)),f(c(o),"onClick",new u.Signal),f(c(o),"toggled",!1),f(c(o),"_texture",null),f(c(o),"_textureToggled",null),e.children.add(c(o)),o._texture=r,o._textureToggled=i,o.setInteractive(),o.on("pointerup",function(){return o._clickUp()}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(a,Phaser.GameObjects.Sprite),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"_clickUp",value:function(){this.onClick.dispatch(this.toggled),this.toggled?this.setTexture(this._texture):this.setTexture(this._textureToggled),this.toggled=!this.toggled}}]),a}();n.default=o},{signals:1}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(e("./scenes/bootScene")),i=a(e("./scenes/menuScene")),o=a(e("./scenes/gameScene"));function a(e){return e&&e.__esModule?e:{default:e}}n.default=function(e){var t=e.baseURL;return{type:Phaser.AUTO,width:1660,height:1200,parent:"game",scene:[new r.default,new i.default,new o.default],physics:{default:"arcade",arcade:{gravity:{y:200},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_HORIZONTALLY},loader:{baseURL:t||"assets"}}}},{"./scenes/bootScene":9,"./scenes/gameScene":10,"./scenes/menuScene":11}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=e("signals");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"gameType",null),o(this,"onChange",new r.Signal),o(this,"onChangePoints",new r.Signal),o(this,"finishGame",new r.Signal),o(this,"appliedEvents",[]),o(this,"free",{f1:[],f2:[],f3:[],f4:[]}),o(this,"foundations",{f1:[],f2:[],f3:[],f4:[]}),o(this,"tableau",{t1:[],t2:[],t3:[],t4:[],t5:[],t6:[],t7:[],t8:[]}),this.gameType=e,window.controller=this}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"prepare",value:function(e){var r=this,t=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;t.push({id:l.id,number:l.number,color:l.color,flipped:l.flipped})}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}this._shuffleDeck(t);var s=[];t.forEach(function(e,t){var n=t%8+1;r.tableau["t".concat(n)].push(e),s.push({card:e,move:{field:"tableau",number:n,order:r.tableau["t".concat(n)].length-1,from:{}}})}),this._applyEvents(s,!0)}},{key:"checkPossibleMove",value:function(e){if(e)this._checkPossibleMove(e),this._checkPossibleMove(null);else for(;this._checkPossibleMove(e););}},{key:"_checkPossibleMove",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:null;if(n){var r=this._getCardInfo(n),i=r.card,o=r.field,a=r.fieldName,u=r.fieldNumber,l=r.cardOrder;if(i.flipped)return;for(var s in this.foundations){var c=this.foundations[s],f=!0,d=!1,p=void 0;try{for(var h,y=c[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var b=h.value;if(b.number+1==i.number&&b.color==i.color){var v={fieldName:"foundations",fieldNumber:i.color+1,order:0},m={fieldName:a,fieldNumber:u,cardOrder:l,field:o};return this._dispatchMoveEvents(i,v,m),!0}}}catch(e){d=!0,p=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}return!1}var g,_,w,O,k,P,x,S,C;for(var T in this.tableau){var j=this.tableau[T][this.tableau[T].length-1];if(j&&1==j.number)return g=j.id,void 0,_=t._getCardInfo(g),w=_.card,O=_.field,k=_.fieldName,P=_.fieldNumber,x=_.cardOrder,S={fieldName:"foundations",fieldNumber:w.color+1,order:0},C={fieldName:k,fieldNumber:P,cardOrder:x,field:O},t._dispatchMoveEvents(w,S,C),!0}return!1}},{key:"_dispatchMoveEvents",value:function(e,t,n){var r,i=[];r=this[n.fieldName]["".concat(n.fieldName.charAt(0)).concat(n.fieldNumber)].pop(),this[t.fieldName]["f".concat(t.fieldNumber)].push(r),i.push({card:e,move:{field:t.fieldName,number:t.fieldNumber,order:0,from:{field:n.fieldName,number:n.fieldNumber,order:n.cardOrder}}}),n.field[n.field.length-1]&&(i.push({card:n.field[n.field.length-1],flip:{flipped:!1,prev:n.field[n.field.length-1].flipped}}),this.onChangePoints.dispatch(5),n.field[n.field.length-1].flipped=!1),this._applyEvents(i)}},{key:"undo",value:function(){var t=this;if(this.appliedEvents.length){this.onChangePoints.dispatch(-5);var e=this.appliedEvents.pop(),n=[],r=[],i=[],o=[],a=!0,u=!1,l=void 0;try{for(var s,c=e.reverse()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;f.move?(o.push("".concat(f.move.field,"-").concat(f.move.number)),n.push(f)):f.flip&&r.push(f)}}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}if(1<n.length&&n.length<14){if(1<new Set(o).size){var d={},p=!0,h=!1,y=void 0;try{for(var b,v=n[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){var m=b.value;d["".concat(m.move.field,"-").concat(m.move.number)]||(d["".concat(m.move.field,"-").concat(m.move.number)]=[]),d["".concat(m.move.field,"-").concat(m.move.number)].push(m)}}catch(e){h=!0,y=e}finally{try{p||null==v.return||v.return()}finally{if(h)throw y}}for(var g in d["stock-1"]&&(d["stock-1"]=d["stock-1"].reverse()),d)d[g].forEach(function(e){return i.push(t._undoExactMove(e))})}else i.push.apply(i,j(this._undoMultiMove(n)))}else{var _=!0,w=!1,O=void 0;try{for(var k,P=n[Symbol.iterator]();!(_=(k=P.next()).done);_=!0){var x=k.value;i.push(this._undoMove(x))}}catch(e){w=!0,O=e}finally{try{_||null==P.return||P.return()}finally{if(w)throw O}}}for(var S=0,C=r;S<C.length;S++){var T=C[S];i.push(this._undoFlip(T))}this.onChange.dispatch(i)}}},{key:"_undoMove",value:function(e){var t=e.card,n=e.move.from,r=this._getField(e.move.field,e.move.number),i=this._getField(e.move.from.field,e.move.from.number),o=r.pop();return i.push(o),{card:t,move:n}}},{key:"_undoMultiMove",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,l=u.card,s=u.move.from;t.push({card:l,move:s})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var c=e[0],f=this._getField(c.move.field,c.move.number),d=this._getField(c.move.from.field,c.move.from.number),p=f.splice(f.length-e.length,e.length);return d.push.apply(d,j(p)),t}},{key:"_undoExactMove",value:function(e){var t=e.card,n=e.move.from,r=this._getField(e.move.field,e.move.number),i=this._getField(e.move.from.field,e.move.from.number),o=null,a=!0,u=!1,l=void 0;try{for(var s,c=r.entries()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=T(s.value,2),d=f[0],p=f[1];t.id===p.id&&(o=d)}}catch(e){u=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw l}}var h=r.splice(o,1);return i.push.apply(i,j(h)),{card:t,move:n}}},{key:"_undoFlip",value:function(e){var t=e.card,n=e.flip.prev;return t.flipped=n,{card:t,flip:{flipped:n}}}},{key:"_getField",value:function(e,t){var n=this[e];return"tableau"!==e&&"foundations"!==e&&"free"!==e||(n=n[e.charAt(0)+t]),n}},{key:"canDrag",value:function(e){var t=0;for(var n in this.tableau)0===this.tableau[n].length&&t++;for(var r in this.free)0===this.free[r].length&&t++;for(var i in this.tableau){var o=null,a=this.tableau[i],u=!0,l=!1,s=void 0;try{for(var c,f=a[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var d=c.value;if(o){var p=o,h=p.number,y=p.color;if(h-1!==d.number||y%2==d.color%2)return!1;if(t<(o={number:d.number,color:d.color,taked:o.taked+1}).taked)return!1}else d.id===e&&(o={number:d.number,color:d.color,taked:0})}}catch(e){l=!0,s=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw s}}o=null}return!0}},{key:"canPlace",value:function(e,t,n){var r=t.charAt(0)+n,i=this[t][r];return"foundations"===t?this._canPlaceFoundations(this._getCardInfo(e),i,n):"tableau"===t?this._canPlaceTableau(this._getCardInfo(e),i,n):"free"===t&&this._canPlanceFree(this._getCardInfo(e),i,n)}},{key:"_openThree",value:function(){var e=[];if(this.waste.length){var t=this.waste.splice(0,this.waste.length),n=!0,r=!1,i=void 0;try{for(var o,a=t.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=T(o.value,2),l=u[0],s=u[1];e.push({card:s,move:{field:"stock",number:1,order:0,from:{field:"waste",number:1,order:l}}}),e.push({card:s,flip:{flipped:!0,prev:!1}}),s.flipped=!0,this.stock.unshift(s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}for(var c=0;c<Math.min(this.stock.length,3);c++){var f=this.stock.pop();this.waste.push(f),e.push({card:f,move:{field:"waste",number:1,order:c,from:{field:"stock",number:1,order:this.stock.length}}}),e.push({card:f,flip:{flipped:!1,prev:f.flipped}}),f.flipped=!1}return this._applyEvents(e),!0}},{key:"getTableauArray",value:function(e){var t=[];for(var n in this.tableau){var r=!1,i=!0,o=!1,a=void 0;try{for(var u,l=this.tableau[n].entries()[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=T(u.value,2),c=(s[0],s[1]);e===c.id&&(r=!0),r&&t.push(c)}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}return t}},{key:"_canPlaceFoundations",value:function(e,t,n){var r=e.card,i=e.field,o=e.fieldName,a=!1;if(t.length){var u=t[t.length-1];if(u.number+1===r.number&&u.color===r.color){var l=i.pop();t.push(l),a=!0}}else if(1===r.number&&r.color+1==n){var s=i.pop();t.push(s),a=!0}if(a){var c=[];c.push({card:r,move:{field:"foundations",number:n,order:0,from:{field:o,number:e.fieldNumber,order:e.cardOrder}}}),i[i.length-1]&&(c.push({card:i[i.length-1],flip:{flipped:!1,prev:i[i.length-1].flipped}}),this.onChangePoints.dispatch(5),i[i.length-1].flipped=!1),this._applyEvents(c),"foundations"!=o&&this.onChangePoints.dispatch(10)}return a}},{key:"_canPlaceTableau",value:function(n,r,i){var e=n.card,t=n.field,o=(n.fieldKey,n.fieldName);if("waste"===o||"foundations"===o||"free"===o){var a=r[r.length-1]||null;if(a)if(!(e.number+1===a.number&&e.color%2!=a.color%2))return!1;var u=this._getCardInfo(t[t.length-1].id),l=t.pop();return r.push(l),this._applyEvents([{card:l,move:{field:"tableau",number:i,order:r.length-1,from:{field:o,number:u.fieldNumber,order:u.cardOrder}}}]),"waste"===o?this.onChangePoints.dispatch(5):"foundations"===o&&this.onChangePoints.dispatch(-15),!0}if("tableau"!==o)return!1;var s=r[r.length-1]||null;if(s&&!(e.number+1===s.number&&e.color%2!=s.color%2))return!1;var c=!1,f=[],d=[],p=!0,h=!1,y=void 0;try{for(var b,v=t.entries()[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){var m=T(b.value,2),g=m[0],_=m[1];e.id===_.id&&(c=!0),c&&(f.push(_),d.push(g))}}catch(e){h=!0,y=e}finally{try{p||null==v.return||v.return()}finally{if(h)throw y}}t.splice(d[0],d.length);var w=[];f.forEach(function(e,t){r.push(e),w.push({card:e,move:{field:"tableau",number:i,order:r.length-1,from:{field:o,number:n.fieldNumber,order:d[t]}}})});var O=t[t.length-1]||null;return O&&O.flipped&&(w.push({card:O,flip:{flipped:!1,prev:O.flipped}}),this.onChangePoints.dispatch(5),O.flipped=!1),this._applyEvents(w),!0}},{key:"_canPlanceFree",value:function(e,t,n){var r=e.card,i=e.field,o=e.fieldName,a=0===t.length&&i[i.length-1].id===r.id;if("foundations"===o)return!1;if(a){t.push(i.pop());var u=[{card:r,move:{field:"free",number:n,order:0,from:{field:e.fieldName,number:e.fieldNumber,order:e.cardOrder}}}];this._applyEvents(u)}return a}},{key:"_getCardInfo",value:function(e){for(var t in this.free){var n=!0,r=!1,i=void 0;try{for(var o,a=this.free[t].entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=T(o.value,2),l=u[0],s=u[1];if(s.id===e)return{card:s,field:this.free[t],fieldName:"free",fieldKey:t,fieldNumber:parseInt(t.charAt(1),10),cardOrder:l}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}for(var c in this.foundations){var f=!0,d=!1,p=void 0;try{for(var h,y=this.foundations[c].entries()[Symbol.iterator]();!(f=(h=y.next()).done);f=!0){var b=T(h.value,2),v=b[0],m=b[1];if(m.id===e)return{card:m,field:this.foundations[c],fieldName:"foundations",fieldKey:c,fieldNumber:parseInt(c.charAt(1),10),cardOrder:v}}}catch(e){d=!0,p=e}finally{try{f||null==y.return||y.return()}finally{if(d)throw p}}}for(var g in this.tableau){var _=!0,w=!1,O=void 0;try{for(var k,P=this.tableau[g].entries()[Symbol.iterator]();!(_=(k=P.next()).done);_=!0){var x=T(k.value,2),S=x[0],C=x[1];if(C.id===e)return{card:C,field:this.tableau[g],fieldName:"tableau",fieldKey:g,fieldNumber:parseInt(g.charAt(1),10),cardOrder:S}}}catch(e){w=!0,O=e}finally{try{_||null==P.return||P.return()}finally{if(w)throw O}}}return null}},{key:"_shuffleDeck",value:function(e){for(var t=0;t<e.length;t++){var n=Math.round(Math.random()*(e.length-1)),r=e[t];e[t]=e[n],e[n]=r}}},{key:"_applyEvents",value:function(e,t){t||this.appliedEvents.push(e),this.onChange.dispatch(e)}},{key:"_checkFinish",value:function(){var e=0;for(var t in this.foundations)13==this.foundations[t].length&&e++;4==e&&this.finishGame.dispatch()}}]),t}();n.default=a},{signals:1}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./config"))&&r.__esModule?r:{default:r};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?l(e):t}(this,u(n).call(this,(0,i.default)(e))),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(l(t),"customOptions",null),t.customOptions=e,t._validateOptions(),t.scene.start("boot"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,Phaser.Game),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(n,[{key:"_validateOptions",value:function(){if(!this.customOptions)throw new Error("Game is not configured properly")}}]),n}();n.default=c},{"./config":5}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,y=(r=e("../component/Card"))&&r.__esModule?r:{default:r};function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(){function h(e,t){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),i=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?m(e):t}(this,v(h).call(this)),g(m(i),"controller",void 0),g(m(i),"foundations",[]),g(m(i),"tableau",[]),g(m(i),"free",[]),g(m(i),"holderMap",{}),g(m(i),"multipleCards",[]),g(m(i),"lastTimeClick",0),g(m(i),"moveMultipleCards",!1),g(m(i),"deck",[]),g(m(i),"deckMap",{}),window.deck=i.deckMap,i.controller=t;for(var n=0;n<4;n++){var r=e.add.sprite(400+185*n-310,280,"holder");r.setOrigin(.5),r.type="free",r.no=n+1,r.alpha=.5,i.holderMap["free".concat(n+1)]=r,i.free.push(r),i.add(r)}for(var o=0;o<4;o++){var a=e.add.sprite(400+185*(o+5)-310,280,"holder");a.setOrigin(.5),a.type="foundations",a.no=o+1,a.alpha=.5;var u=e.add.sprite(a.x,a.y,"holder_".concat(o+1));u.setOrigin(.5),u.alpha=0,i.add(u),i.holderMap["foundations".concat(o+1)]=a,i.foundations.push(a),i.add(a)}for(var l=0;l<8;l++){var s=e.add.sprite(400+185*l-220,550,"holder");s.setOrigin(.5),s.type="tableau",s.no=l+1,s.alpha=.5,i.holderMap["tableau".concat(l+1)]=s,i.tableau.push(s),i.add(s)}for(var c=0;c<52;c++){var f=c%13+1,d=Math.floor(c/13),p=new y.default(e,i.tableau[0].x-c/4,i.tableau[0].y-c/3,f,d);p.flip(),i.deck.push(p),(i.deckMap[p.id]=p).onDrag.add(i._cardDrag,m(i)),p.onClick.add(i._cardClick,m(i))}return i.controller.onChange.add(i._onChange,m(i)),i.controller.prepare(i.deck),i.controller.checkPossibleMove(),e.input.on("dragstart",function(e,t){i.controller.canDrag(t.id)&&(i.multipleCards=i.controller.getTableauArray(t.id),t.dragStart(),1<i.multipleCards.length&&i._moveMultipleCards())}),e.input.on("drag",function(e,t,n,r){t.drag(n,r),1<i.multipleCards.length&&i._moveMultipleCards()}),e.input.on("dragend",function(e,t){t.dragEnd(),i.moveMultipleCards=!1,i.controller.checkPossibleMove()}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,Phaser.GameObjects.Group),function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(h,[{key:"_moveMultipleCards",value:function(){this.moveMultipleCards=!0;var e=this.multipleCards[0],t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.multipleCards[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;1<=t&&(this.deckMap[u.id].x=this.deckMap[e.id].x,this.deckMap[u.id].y=this.deckMap[e.id].y+40*t),t++}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._sortDragingCards()}},{key:"_sortDragingCards",value:function(){var n=this;this.multipleCards.forEach(function(e,t){n.deckMap[e.id].setOrder(1500*t)})}},{key:"_moveBackMultipleCards",value:function(){var e=this.multipleCards[0],t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.multipleCards[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;1<=t&&this.deckMap[u.id].goTo(this.deckMap[e.id].previous.x,this.deckMap[e.id].previous.y+40*t),t++}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"_cardDrag",value:function(e){var t=this._canPlace(e);if(t&&this.controller.canPlace(e.id,t.type,t.number))return;e.goTo(e.previous.x,e.previous.y),1<this.multipleCards.length&&this._moveBackMultipleCards()}},{key:"_cardClick",value:function(e){var t=e.scene.time.now-this.lastTimeClick;this.lastTimeClick=e.scene.time.now,t<350?this.controller.checkPossibleMove(e.id,!0):this.controller.checkPossibleMove()}},{key:"_canPlace",value:function(n){var e=[].concat(i(this.foundations),i(this.tableau),i(this.free)).filter(function(e){var t=e.getBounds();return"tableau"==e.type&&(t.height=1e3),t.contains(n.x,n.y)});if(e.length){var t=e[0];return{type:t.type,number:t.no}}return null}},{key:"_onChange",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.flip&&this._flipCard(a.card,a.flip),a.move&&this._moveCard(a.card,a.move)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.controller._checkFinish()}},{key:"_flipCard",value:function(e,t){var n=t.flipped;this.deckMap[e.id].flip(n)}},{key:"_moveCard",value:function(e,t){var n=t.field,r=t.number,i=t.order;this._cardPlacing(this.deckMap[e.id],n,r,i)}},{key:"_sort",value:function(){var n=this;if(!this.moveMultipleCards){for(var e in this.controller.tableau){this.controller.tableau[e].forEach(function(e,t){n.deckMap[e.id].setOrder(t)})}for(var t in this.controller.foundations){this.controller.foundations[t].forEach(function(e,t){n.deckMap[e.id].setOrder(t)})}}}},{key:"_cardPlacing",value:function(e,t,n,r){var i=this.holderMap[t+n];e.goTo(i.x,i.y+40*r)}}]),h}();n.default=u},{"../component/Card":3}],9:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}(this,o(t).call(this,{key:"boot"})),l(a(e),"timer",null),l(a(e),"fontFamilies",["Amatic SC","Oswald","Titillium Web"]),l(a(e),"minimumTimeout",500),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,Phaser.Scene),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"preload",value:function(){this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js","https://fonts.googleapis.com/css?family=Titillium+Web:400,900&display=swap")}},{key:"create",value:function(){var e=this;this.cameras.main.setBackgroundColor("#ffffff"),WebFont.load({google:{families:this.fontFamilies},active:function(){return e.startLoading()}}),this.game.gameType=1}},{key:"startLoading",value:function(){var e=this;this.load.once("start",this.loadGameAssets),this.load.once("complete",function(){return e.nextScene()}),this.timer=this.time.addEvent({delay:500,loop:!0}),this.load.start()}},{key:"loadGameAssets",value:function(){this.image("holder","holder.png"),this.image("flipped_card","flipped_card.png"),this.image("button_three_card","button_three_card.png"),this.image("button_options","button_options.png"),this.image("button_how_to","but_how_to.png"),this.image("button_undo","btn_undo.png"),this.image("tranps_bg","transparent_bg.png"),this.image("pop_up","popUp.png"),this.image("button_exit_pop_up","btn_exit.png"),this.image("button_one_card_big","button_one_card_big.png"),this.image("button_three_card_big","button_three_card_big.png"),this.image("holder_1","spade_holder.png"),this.image("holder_2","heart_holder.png"),this.image("holder_3","club_holder.png"),this.image("holder_4","diamond_holder.png"),this.image("arrow","arrow.png"),this.image("score","score.png"),this.image("time","time.png"),this.spritesheet("cards","cards.png",{frameWidth:155,frameHeight:240,endFrame:52})}},{key:"nextScene",value:function(){var e=this,t=0;0<this.minimumTimeout-this.timer.getProgress()&&(t=this.minimumTimeout-this.timer.getProgress()),setTimeout(function(){e.scene.start("game")},t)}}]),t}();n.default=s},{}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("../controller/solitaireController")),i=o(e("../group/playGround")),u=o(e("../component/Button"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?c(e):t}(this,s(t).call(this,{key:"game"})),d(c(e),"controller",null),d(c(e),"playGround",null),d(c(e),"btn_new",null),d(c(e),"btn_options",null),d(c(e),"btn_how_to",null),d(c(e),"btn_undo",null),d(c(e),"new_text",null),d(c(e),"options_text",null),d(c(e),"how_to_text",null),d(c(e),"undo_text",null),d(c(e),"optionsPopUpGroup",null),d(c(e),"howToPopUpGroup",null),d(c(e),"finishPopUpGroup",null),d(c(e),"timer",null),d(c(e),"counter",0),d(c(e),"points",0),d(c(e),"popUpIsOpen",!1),d(c(e),"score_img",null),d(c(e),"time_img",null),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,Phaser.Scene),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"create",value:function(){var t=this,e=this.scene.settings.data.type;this.cameras.main.setBackgroundColor("#ffffff"),this.btn_new=new u.default(this,62,78,"button_three_card"),this.btn_new.setOrigin(.5),this.btn_new.onClick.add(this.btnNewClicked,this),this.btn_how_to=new u.default(this,1470,78,"button_how_to"),this.btn_how_to.setOrigin(.5),this.btn_how_to.onClick.add(function(){t.game.customOptions.onHowTo()},this),this.btn_undo=new u.default(this,1612,78,"button_undo"),this.btn_undo.onClick.add(function(){return t.controller.undo()}),this.btn_undo.setOrigin(.5),this.score_img=this.add.image(723,69,"score"),this.score_img.setOrigin(.5),this.time_img=this.add.image(900,69,"time"),this.time_img.setOrigin(.5),this.points_text=this.add.text(775,69,"0",{fontFamily:"Titillium Web",fontStyle:"bold",fontSize:"28px",color:"#000000",align:"left"}),this.points_text.setOrigin(0,.5),this.time_text=this.add.text(945,69,"00:00",{fontFamily:"Titillium Web",fontStyle:"bold",fontSize:"28px",color:"#000000",align:"left"}),this.time_text.setOrigin(0,.5),this.timer=this.time.addEvent({delay:1e3,callback:function(){return t.count()},loop:!0}),this.onPlayClick(e),this.controller.onChangePoints.add(this.changePointsText,this),this.controller.finishGame.add(function(){for(var e in t.popUpIsOpen=!0,t.playGround.deckMap)t.playGround.deckMap[e].on("pointerdown",function(){t.popUpIsOpen=!1,t.points=0,t.counter=0,t.scene.restart({type:t.scene.settings.data.type})}),t.physics.world.enable(t.playGround.deckMap[e]),t.playGround.deckMap[e].body.setVelocity(0+100*Math.random(),200+400*Math.random()).setBounce(1,1).setCollideWorldBounds(!0)},this)}},{key:"count",value:function(){this.popUpIsOpen||this.counter++,this.time_text.setText("".concat(this.timeParser(this.counter)))}},{key:"timeParser",value:function(e){var t=0<arguments.length&&void 0!==e?e:1,n=window.Math.floor(t/60),r=t%60;return r=r<10?"0"+r:r,"".concat(n=n<10?"0"+n:n,":").concat(r)}},{key:"onPlayClick",value:function(e){this.controller=new r.default(e||1),this.playGround=new i.default(this,this.controller)}},{key:"btnNewClicked",value:function(){this.points=0,this.counter=0,this.scene.restart({type:this.scene.settings.data.type})}},{key:"btnOptionsClicked",value:function(){var e=this;this.popUpIsOpen=!0,this.optionsPopUpGroup=this.add.group();var t=new u.default(this,650,540,"tranps_bg");t.setInteractive(),this.optionsPopUpGroup.add(t);var n=this.optionsPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=new u.default(this,520,480,"button_one_card_big");r.setOrigin(.5),this.optionsPopUpGroup.add(r);var i=this.add.text(520,570,"Turn 1",{fontFamily:"Titillium Web",fontSize:"28px",color:"#ffffff"},this.optionsPopUpGroup);i.setStroke("#ffffff",1),i.setOrigin(.5),this.optionsPopUpGroup.add(i);var o=new u.default(this,750,465,"button_three_card_big");o.setOrigin(.5),this.optionsPopUpGroup.add(o);var a=this.add.text(750,570,"Turn 3",{fontFamily:"Titillium Web",fontSize:"28px",color:"#ffffff"});a.setStroke("#ffffff",1),a.setOrigin(.5),this.optionsPopUpGroup.add(a),this.optionsPopUpGroup.setDepth(5e3),t.onClick.add(function(){e.popUpIsOpen=!1,e.optionsPopUpGroup.clear(e)},this),r.onClick.add(function(){e.optionsPopUpGroup.clear(e),e.points=0,e.counter=0,e.popUpIsOpen=!1,e.scene.restart({type:1})},this),o.onClick.add(function(){e.optionsPopUpGroup.clear(e),e.points=0,e.counter=0,e.popUpIsOpen=!1,e.scene.restart({type:3})},this)}},{key:"btnHowToClicked",value:function(){var e=this;this.popUpIsOpen=!0,this.howToPopUpGroup=this.add.group();var t=new u.default(this,650,540,"tranps_bg");t.setInteractive();var n=this.howToPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=this.add.text(960,540,"The card piles in board can be build down by decrescent card number with alternate color.\nGOAL : The goal is to build up four foundation by suit, from Ace to King.",{fontFamily:"Titillium Web",fontSize:"20px",color:"#ffffff",align:"center",wordWrap:{width:n.width-20,useAdvancedWrap:!1}});r.setStroke("#ffffff",1),r.setOrigin(.5);var i=new u.default(this,870,590,"arrow");i.setOrigin(.5),i.setInteractive();var o=new u.default(this,420,590,"arrow");o.flipX=!0,o.setOrigin(.5),o.setInteractive(),o.alpha=0,this.howToPopUpGroup.add(r),this.howToPopUpGroup.add(i),this.howToPopUpGroup.add(o),this.howToPopUpGroup.add(t),this.howToPopUpGroup.setDepth(5e3),i.onClick.add(function(){i.alpha=0,o.alpha=1,r.setText("POINTS :\nWaste to Tableau = 5\nWaste to Foundation = 10\nTableau to Foundation = 10\nTurn over Tableau card = 5\nFoundation to Tableau = -15")},this),o.onClick.add(function(){o.alpha=0,i.alpha=1,r.setText("The card piles in board can be build down by decrescent card number with alternate color.\nGOAL : The goal is to build up four foundation by suit, from Ace to King.")},this),t.onClick.add(function(){e.popUpIsOpen=!1,e.howToPopUpGroup.clear(e)},this)}},{key:"changePointsText",value:function(e){this.points=this.points+e<0?0:this.points+e,this.points_text.setText("".concat(this.points))}},{key:"finishGamePopUp",value:function(){var e=this;this.popUpIsOpen=!0,this.finishPopUpGroup=this.add.group();var t=new u.default(this,650,540,"tranps_bg");t.setInteractive(),t.setDepth(1e4);var n=this.finishPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=this.add.text(650,540,"CONGRATULATIONS\n You complete the game !!\nSCORE: ".concat(this.points),{fontFamily:"Titillium Web",fontSize:"20px",color:"#ffffff",align:"center",wordWrap:{width:n.width-20,useAdvancedWrap:!1}});r.setStroke("#ffffff",1),r.setOrigin(.5),this.finishPopUpGroup.add(r),t.onClick.add(function(){e.popUpIsOpen=!1,e.finishPopUpGroup.clear(e),e.points=0,e.counter=0,e.scene.restart({type:e.scene.settings.data.type})},this),this.finishPopUpGroup.children.entries.forEach(function(e){e.setDepth(10001)})}},{key:"update",value:function(){this.playGround._sort()}}]),t}();n.default=p},{"../component/Button":2,"../controller/solitaireController":6,"../group/playGround":8}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(e("../component/Button")),i=o(e("../component/ToggleButton"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?s(e):t}(this,l(t).call(this,{key:"menu"})),f(s(e),"version",null),f(s(e),"bg",null),f(s(e),"logo",null),f(s(e),"playOne",null),f(s(e),"playThree",null),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,Phaser.Scene),function(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}(t,[{key:"create",value:function(){var e=this;this.bg=this.add.sprite(0,0,"bg"),this.bg.setOrigin(0,0),this.version=this.add.text(20,700,"0.0.1",{fontFamily:"Titillium Web",fontSize:"18px",color:"#f1f1f1"}),this.version.setOrigin(0,.5),this.logo=this.add.sprite(640,300,"game_logo"),this.logo.setOrigin(.5),this.playOne=new r.default(this,540,560,"button_play_one"),this.playOne.setScale(.5),this.playOne.setOrigin(.5),this.playOne.onClick.add(function(){return e.onPlayClick(1)},this),this.playThree=new r.default(this,740,560,"button_play_three"),this.playThree.setScale(.5),this.playThree.setOrigin(.5),this.playThree.onClick.add(function(){return e.onPlayClick(3)},this),this.soundButton=new i.default(this,50,50,"button_sound_on","button_sound_off"),this.soundButton.setOrigin(.5),this.soundButton.setScale(.5)}},{key:"onPlayClick",value:function(e){this.scene.start("game",{type:e})}}]),t}();n.default=d},{"../component/Button":2,"../component/ToggleButton":4}],12:[function(e,t,n){"use strict";var r,i=(r=e("./entryPoint"))&&r.__esModule?r:{default:r};window.runGame=function(e){return new i.default(e)}},{"./entryPoint":7}]},{},[12]);