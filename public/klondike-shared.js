!function o(a,l,u){function s(e,t){if(!l[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=l[e]={exports:{}};a[e][0].call(i.exports,function(t){return s(a[e][1][t]||t)},i,i.exports,o,a,l,u)}return l[e].exports}for(var c="function"==typeof require&&require,t=0;t<u.length;t++)s(u[t]);return s}({1:[function(t,i,e){!function(t){function a(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function r(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function e(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}}e.prototype={VERSION:"1.0.0",memorize:!(a.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}),_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,o=this._indexOfListener(t,n);if(-1!==o){if((i=this._bindings[o]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new a(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){for(var e=this._bindings.length;--e,this._bindings[e]&&t._priority<=this._bindings[e]._priority;);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r])._listener===t&&n.context===e)return r;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return r(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return r(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){r(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--r]&&this._shouldPropagate&&!1!==e[r].execute(n););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var n=e;n.Signal=e,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==i&&i.exports?i.exports=n:t.signals=n}(this)},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=t("signals");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function a(t,e,n,r){var i,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),i=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?c(t):e}(this,s(a).call(this,t,e,n,r)),f(c(i),"onClick",new l.Signal),f(c(i),"_texture",null),f(c(i),"_textureOnClick",null),t.children.add(c(i)),i._texture=r,i._textureOnClick=o,i.setInteractive(),i.on("pointerdown",function(){return i._clickDown()}),i.on("pointerup",function(){return i._clickUp()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(a,Phaser.GameObjects.Sprite),function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(a,[{key:"_clickDown",value:function(){this._textureOnClick&&this.setTexture(this._textureOnClick)}},{key:"_clickUp",value:function(){this.onClick.dispatch(),this._textureOnClick&&this.setTexture(this._texture)}}]),a}();n.default=o},{signals:1}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,l=(r=t("signals"))&&r.__esModule?r:{default:r};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function a(t,e,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?c(t):e}(this,s(a).call(this,t,e,n)),f(c(o),"onClick",new l.default),f(c(o),"onDrag",new l.default),f(c(o),"_number",-1),f(c(o),"_color",-1),f(c(o),"_texture","cards"),f(c(o),"_flipped",!0),f(c(o),"_dragging",!1),f(c(o),"_draggable",!0),f(c(o),"previous",null),f(c(o),"nested",null),f(c(o),"_order",null),o.depth=0,t.children.add(c(o)),o.color=i,o.number=r,o.setInteractive({draggable:!0}),o.on("pointerup",function(){return o.onClick.dispatch(c(o))},c(o)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(a,Phaser.GameObjects.Sprite),function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(a,[{key:"_changeTexture",value:function(){if(this._flipped)this.setTexture("flipped_card");else if(0<=this._number&&0<=this._color){var t=13*this._color+this._number-1;this.setTexture(this._texture,t)}}},{key:"flip",value:function(t){var e=0<arguments.length&&void 0!==t&&t;this._flipped=e,this._changeTexture()}},{key:"dragStart",value:function(){this._draggable&&(this._tween&&(this._tween.stop(),this.x=this._tween.goTo.x,this.y=this._tween.goTo.y,this._tween=null),this._dragging=!0,this._order=this.depth,this.setDepth(1500+this._order),this.previous={x:this.x,y:this.y})}},{key:"setOrder",value:function(t){null===this._order?this.setDepth(t):(this._order=t,this.setDepth(1500+t))}},{key:"drag",value:function(t,e){this._dragging&&(this.x=t,this.y=e)}},{key:"dragEnd",value:function(){this._dragging&&(this._dragging=!1,this.setDepth(this._order),this._order=null,this.onDrag.dispatch(this))}},{key:"goTo",value:function(t,e,n){var r=this,i=2<arguments.length&&void 0!==n?n:400;this._order=this.depth,this.setDepth(1500+this._order),this._draggable=!1,this._tween=this.scene.add.tween({targets:this,x:t,y:e,duration:i,ease:"Power3",onComplete:function(){r._draggable=!0,r.setDepth(r._order),r._order=null}}),this._tween.goTo={x:t,y:e}}},{key:"color",set:function(t){if(t<0||3<t)throw new Error("errol");this._color=t,this._changeTexture()},get:function(){return this._color}},{key:"number",set:function(t){if(!(0<t&&t<14))throw new Error("error");this._number=t,this._changeTexture()},get:function(){return this._number}},{key:"id",get:function(){return btoa("".concat(this._number,"x").concat(this._color))}},{key:"flipped",get:function(){return this._flipped}}]),a}();n.default=a},{signals:1}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var l=t("signals");function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function a(t,e,n,r,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?c(t):e}(this,s(a).call(this,t,e,n,r)),f(c(o),"onClick",new l.Signal),f(c(o),"toggled",!1),f(c(o),"_texture",null),f(c(o),"_textureToggled",null),t.children.add(c(o)),o._texture=r,o._textureToggled=i,o.setInteractive(),o.on("pointerup",function(){return o._clickUp()}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(a,Phaser.GameObjects.Sprite),function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(a,[{key:"_clickUp",value:function(){this.onClick.dispatch(this.toggled),this.toggled?this.setTexture(this._texture):this.setTexture(this._textureToggled),this.toggled=!this.toggled}}]),a}();n.default=o},{signals:1}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("./scenes/bootScene")),i=a(t("./scenes/menuScene")),o=a(t("./scenes/gameScene"));function a(t){return t&&t.__esModule?t:{default:t}}n.default=function(t){var e=t.baseURL;return{type:Phaser.AUTO,width:1291,height:1080,parent:"game",scene:[new r.default,new i.default,new o.default],physics:{default:"arcade",arcade:{gravity:{y:200},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_HORIZONTALLY},loader:{baseURL:e||"assets"}}}},{"./scenes/bootScene":9,"./scenes/gameScene":10,"./scenes/menuScene":11}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=t("signals");function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function T(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"gameType",null),o(this,"onChange",new r.Signal),o(this,"onChangePoints",new r.Signal),o(this,"finishGame",new r.Signal),o(this,"appliedEvents",[]),o(this,"stock",[]),o(this,"waste",[]),o(this,"foundations",{f1:[],f2:[],f3:[],f4:[]}),o(this,"tableau",{t1:[],t2:[],t3:[],t4:[],t5:[],t6:[],t7:[]}),this.gameType=t,window.controller=this}return function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"fakePrepare",value:function(t){var e=this,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this.stock.push({id:l.id,number:l.number,color:l.color,flipped:l.flipped})}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._shuffleDeck();for(var u=[],s=[];this.stock.length;)for(var c=1;c<=4;c++){var f=this.stock.pop();this.foundations["f".concat(c)].push(f),s.push({card:f,flip:{flipped:!1,prev:f.flipped}}),f.flipped=!1,u.push({card:f,move:{field:"foundations",number:c,order:0,from:{}}})}this._applyEvents(u,!0),setTimeout(function(){e._applyEvents(s,!0)},300)}},{key:"prepare",value:function(t){var e=this,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;this.stock.push({id:l.id,number:l.number,color:l.color,flipped:l.flipped})}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._shuffleDeck();for(var u=[],s=[],c=0;c<7;c++)for(var f=0;f<c+1;f++){var h=this.stock.pop();this.tableau["t".concat(c+1)].push(h),f==c&&(s.push({card:h,flip:{flipped:!1,prev:h.flipped}}),h.flipped=!1),u.push({card:h,move:{field:"tableau",number:c+1,order:f,from:{}}})}this._applyEvents(u,!0),setTimeout(function(){e._applyEvents(s,!0)},300)}},{key:"checkPossibleMove",value:function(t){if(t)this._checkPossibleMove(t),this._checkPossibleMove(null);else for(;this._checkPossibleMove(t););}},{key:"_checkPossibleMove",value:function(t){var s=this,e=0<arguments.length&&void 0!==t?t:null;if(e){var n=this._getCardInfo(e),r=n.card,i=n.field,o=n.fieldName,a=n.fieldNumber,l=n.cardOrder;if(console.log(r.flipped,l<i.length-1),console.log(l,i.length-1),r.flipped||l<i.length-1)return;for(var u in this.foundations){var c=this.foundations[u],f=!0,h=!1,d=void 0;try{for(var p,y=c[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var v=p.value;if(v.number+1==r.number&&v.color==r.color){var b={fieldName:"foundations",fieldNumber:r.color+1,order:0},m={fieldName:o,fieldNumber:a,cardOrder:l,field:i};return this._dispatchMoveEvents(r,b,m),!0}}}catch(t){h=!0,d=t}finally{try{f||null==y.return||y.return()}finally{if(h)throw d}}}return!1}function g(t){var e=s._getCardInfo(t),n=e.card,r=e.field,i=e.fieldName,o=e.fieldNumber,a=e.cardOrder,l={fieldName:"foundations",fieldNumber:n.color+1,order:0},u={fieldName:i,fieldNumber:o,cardOrder:a,field:r};s._dispatchMoveEvents(n,l,u)}for(var _ in this.tableau){var w=this.tableau[_][this.tableau[_].length-1];if(w&&1==w.number)return g(w.id),!0}return!(!this.waste[this.waste.length-1]||1!=this.waste[this.waste.length-1].number)&&(g(this.waste[this.waste.length-1].id),!0)}},{key:"_dispatchMoveEvents",value:function(t,e,n){var r,i=[];r="tableau"==n.fieldName?this["".concat(n.fieldName)]["t".concat(n.fieldNumber)].pop():this["".concat(n.fieldName)].pop(),this["".concat(e.fieldName)]["f".concat(e.fieldNumber)].push(r),i.push({card:t,move:{field:e.fieldName,number:e.fieldNumber,order:0,from:{field:n.fieldName,number:n.fieldNumber,order:n.cardOrder}}}),n.field[n.field.length-1]&&(i.push({card:n.field[n.field.length-1],flip:{flipped:!1,prev:n.field[n.field.length-1].flipped}}),this.onChangePoints.dispatch(5),n.field[n.field.length-1].flipped=!1),this._applyEvents(i)}},{key:"undo",value:function(){var e=this;if(this.appliedEvents.length){this.onChangePoints.dispatch(-5);var t=this.appliedEvents.pop(),n=[],r=[],i=[],o=[],a=!0,l=!1,u=void 0;try{for(var s,c=t.reverse()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value;f.move?(o.push("".concat(f.move.field,"-").concat(f.move.number)),n.push(f)):f.flip&&r.push(f)}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}if(1<n.length&&n.length<14){if(1<new Set(o).size){var h={},d=!0,p=!1,y=void 0;try{for(var v,b=n[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var m=v.value;h["".concat(m.move.field,"-").concat(m.move.number)]||(h["".concat(m.move.field,"-").concat(m.move.number)]=[]),h["".concat(m.move.field,"-").concat(m.move.number)].push(m)}}catch(t){p=!0,y=t}finally{try{d||null==b.return||b.return()}finally{if(p)throw y}}for(var g in h["stock-1"]&&(h["stock-1"]=h["stock-1"].reverse()),h)h[g].forEach(function(t){return i.push(e._undoExactMove(t))})}else i.push.apply(i,T(this._undoMultiMove(n)))}else{var _=!0,w=!1,k=void 0;try{for(var O,P=n[Symbol.iterator]();!(_=(O=P.next()).done);_=!0){var x=O.value;i.push(this._undoMove(x))}}catch(t){w=!0,k=t}finally{try{_||null==P.return||P.return()}finally{if(w)throw k}}}for(var S=0,C=r;S<C.length;S++){var j=C[S];i.push(this._undoFlip(j))}this.onChange.dispatch(i)}}},{key:"_undoMove",value:function(t){var e=t.card,n=t.move.from,r=this._getField(t.move.field,t.move.number),i=this._getField(t.move.from.field,t.move.from.number),o=r.pop();return i.push(o),{card:e,move:n}}},{key:"_undoMultiMove",value:function(t){var e=[],n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value,u=l.card,s=l.move.from;e.push({card:u,move:s})}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var c=t[0],f=this._getField(c.move.field,c.move.number),h=this._getField(c.move.from.field,c.move.from.number),d=f.splice(f.length-t.length,t.length);return h.push.apply(h,T(d)),e}},{key:"_undoExactMove",value:function(t){var e=t.card,n=t.move.from,r=this._getField(t.move.field,t.move.number),i=this._getField(t.move.from.field,t.move.from.number),o=null,a=!0,l=!1,u=void 0;try{for(var s,c=r.entries()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=I(s.value,2),h=f[0],d=f[1];e.id===d.id&&(o=h)}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}var p=r.splice(o,1);return i.push.apply(i,T(p)),{card:e,move:n}}},{key:"_undoFlip",value:function(t){var e=t.card,n=t.flip.prev;return e.flipped=n,{card:e,flip:{flipped:n}}}},{key:"_getField",value:function(t,e){var n=this[t];return"tableau"!==t&&"foundations"!==t||(n=n[t.charAt(0)+e]),n}},{key:"canDrag",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.stock[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){if(i.value.id===t)return!1}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}var a=!0,l=!1,u=void 0;try{for(var s,c=this.waste.entries()[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=I(s.value,2),h=f[0];if(f[1].id===t&&h!==this.waste.length-1)return!1}}catch(t){l=!0,u=t}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}for(var d in this.tableau){var p=this.tableau[d],y=!0,v=!1,b=void 0;try{for(var m,g=p[Symbol.iterator]();!(y=(m=g.next()).done);y=!0){var _=m.value;if(_.id===t&&_.flipped)return!1}}catch(t){v=!0,b=t}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}}return!0}},{key:"canPlace",value:function(t,e,n){var r=e.charAt(0)+n,i=this[e][r];return"foundations"===e?this._canPlaceFoundations(this._getCardInfo(t),i,n):"tableau"===e&&this._canPlaceTableau(this._getCardInfo(t),i,n)}},{key:"emptyDeck",value:function(){if(!this.waste.length)return!1;for(var t=[],e=0;0!==this.waste.length;){var n=this.waste.pop();this.stock.push(n),t.push({card:n,move:{field:"stock",number:1,order:e,from:{field:"waste",number:1,order:this.waste.length}}}),t.push({card:n,flip:{flipped:!0,prev:n.flipped}}),n.flipped=!0,e++}this._applyEvents(t)}},{key:"canOpen",value:function(t){var e=this._getCardInfo(t);if("stock"!==e.fieldName)return!1;if(3===this.gameType)return this._openThree(e);var n=this.stock.pop();this.waste.push(n);var r=[];return r.push({card:n,move:{field:"waste",number:1,order:this.waste.length,from:{field:"stock",number:e.fieldNumber,order:e.cardOrder}}}),r.push({card:n,flip:{flipped:!1,prev:n.flipped}}),n.flipped=!1,this._applyEvents(r),!0}},{key:"_openThree",value:function(){var t=[];if(this.waste.length){var e=this.waste.splice(0,this.waste.length),n=!0,r=!1,i=void 0;try{for(var o,a=e.entries()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=I(o.value,2),u=l[0],s=l[1];t.push({card:s,move:{field:"stock",number:1,order:0,from:{field:"waste",number:1,order:u}}}),t.push({card:s,flip:{flipped:!0,prev:!1}}),s.flipped=!0,this.stock.unshift(s)}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}for(var c=0;c<Math.min(this.stock.length,3);c++){var f=this.stock.pop();this.waste.push(f),t.push({card:f,move:{field:"waste",number:1,order:c,from:{field:"stock",number:1,order:this.stock.length}}}),t.push({card:f,flip:{flipped:!1,prev:f.flipped}}),f.flipped=!1}return this._applyEvents(t),!0}},{key:"getTableauArray",value:function(t){var e=[];for(var n in this.tableau){var r=!1,i=!0,o=!1,a=void 0;try{for(var l,u=this.tableau[n].entries()[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=I(l.value,2),c=(s[0],s[1]);t===c.id&&(r=!0),r&&e.push(c)}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}return e}},{key:"_canPlaceFoundations",value:function(t,e,n){var r=t.card,i=t.field,o=t.fieldName,a=!1;if(e.length){var l=e[e.length-1];if(l.number+1===r.number&&l.color===r.color){var u=i.pop();e.push(u),a=!0}}else if(1===r.number&&r.color+1==n){var s=i.pop();e.push(s),a=!0}if(a){var c=[];c.push({card:r,move:{field:"foundations",number:n,order:0,from:{field:o,number:t.fieldNumber,order:t.cardOrder}}}),i[i.length-1]&&(c.push({card:i[i.length-1],flip:{flipped:!1,prev:i[i.length-1].flipped}}),this.onChangePoints.dispatch(5),i[i.length-1].flipped=!1),this._applyEvents(c),"foundations"!=o&&this.onChangePoints.dispatch(10)}return a}},{key:"_canPlaceTableau",value:function(n,r,i){var t=n.card,e=n.field,o=(n.fieldKey,n.fieldName);if("waste"===o||"foundations"===o){var a=r[r.length-1]||null;if(a){if(!(t.number+1===a.number&&t.color%2!=a.color%2))return!1}else if(!(13===t.number))return!1;var l=this._getCardInfo(e[e.length-1].id),u=e.pop();return r.push(u),this._applyEvents([{card:u,move:{field:"tableau",number:i,order:r.length-1,from:{field:o,number:l.fieldNumber,order:l.cardOrder}}}]),"waste"===o?this.onChangePoints.dispatch(5):"foundations"===o&&this.onChangePoints.dispatch(-15),!0}if("tableau"!==o)return!1;var s=r[r.length-1]||null;if(s){if(!(t.number+1===s.number&&t.color%2!=s.color%2))return!1}else if(!(13===t.number))return!1;var c=!1,f=[],h=[],d=!0,p=!1,y=void 0;try{for(var v,b=e.entries()[Symbol.iterator]();!(d=(v=b.next()).done);d=!0){var m=I(v.value,2),g=m[0],_=m[1];t.id===_.id&&(c=!0),c&&(f.push(_),h.push(g))}}catch(t){p=!0,y=t}finally{try{d||null==b.return||b.return()}finally{if(p)throw y}}e.splice(h[0],h.length);var w=[];f.forEach(function(t,e){r.push(t),w.push({card:t,move:{field:"tableau",number:i,order:r.length-1,from:{field:o,number:n.fieldNumber,order:h[e]}}})});var k=e[e.length-1]||null;return k&&k.flipped&&(w.push({card:k,flip:{flipped:!1,prev:k.flipped}}),this.onChangePoints.dispatch(5),k.flipped=!1),this._applyEvents(w),!0}},{key:"_getCardInfo",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.stock.entries()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=I(i.value,2),l=a[0],u=a[1];if(u.id===t)return{card:u,field:this.stock,fieldName:"stock",fieldKey:null,fieldNumber:1,cardOrder:l}}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}var s=!0,c=!1,f=void 0;try{for(var h,d=this.waste.entries()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var p=I(h.value,2),y=p[0],v=p[1];if(v.id===t)return{card:v,field:this.waste,fieldName:"waste",fieldKey:null,fieldNumber:1,cardOrder:y}}}catch(t){c=!0,f=t}finally{try{s||null==d.return||d.return()}finally{if(c)throw f}}for(var b in this.foundations){var m=!0,g=!1,_=void 0;try{for(var w,k=this.foundations[b].entries()[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var O=I(w.value,2),P=O[0],x=O[1];if(x.id===t)return{card:x,field:this.foundations[b],fieldName:"foundations",fieldKey:b,fieldNumber:parseInt(b.charAt(1),10),cardOrder:P}}}catch(t){g=!0,_=t}finally{try{m||null==k.return||k.return()}finally{if(g)throw _}}}for(var S in this.tableau){var C=!0,j=!1,T=void 0;try{for(var M,E=this.tableau[S].entries()[Symbol.iterator]();!(C=(M=E.next()).done);C=!0){var N=I(M.value,2),G=N[0],A=N[1];if(A.id===t)return{card:A,field:this.tableau[S],fieldName:"tableau",fieldKey:S,fieldNumber:parseInt(S.charAt(1),10),cardOrder:G}}}catch(t){j=!0,T=t}finally{try{C||null==E.return||E.return()}finally{if(j)throw T}}}return null}},{key:"_shuffleDeck",value:function(){for(var t=0;t<this.stock.length;t++){var e=Math.round(Math.random()*(this.stock.length-1)),n=this.stock[t];this.stock[t]=this.stock[e],this.stock[e]=n}}},{key:"_applyEvents",value:function(t,e){e||this.appliedEvents.push(t),this.onChange.dispatch(t)}},{key:"_checkFinish",value:function(){var t=0;for(var e in this.foundations)13==this.foundations[e].length&&t++;4==t&&this.finishGame.dispatch()}}]),e}();n.default=a},{signals:1}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=t("./config"))&&r.__esModule?r:{default:r};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(){function n(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}(this,l(n).call(this,(0,i.default)(t))),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(u(e),"customOptions",null),e.customOptions=t,e._validateOptions(),e.scene.start("boot"),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,Phaser.Game),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(n,[{key:"_validateOptions",value:function(){if(!this.customOptions)throw new Error("Game is not configured properly")}}]),n}();n.default=c},{"./config":5}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,d=(r=t("../component/Card"))&&r.__esModule?r:{default:r};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function h(t,e){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),i=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?v(t):e}(this,y(h).call(this)),b(v(i),"controller",void 0),b(v(i),"foundations",[]),b(v(i),"tableau",[]),b(v(i),"stock",null),b(v(i),"waste",null),b(v(i),"holderMap",{}),b(v(i),"multipleCards",[]),b(v(i),"lastTimeClick",0),b(v(i),"moveMultipleCards",!1),b(v(i),"deck",[]),b(v(i),"deckMap",{}),window.deck=i.deckMap,i.controller=e,i.stock=t.add.sprite(90,280,"holder"),i.stock.setOrigin(.5),i.stock.type="stock",i.stock.no=1,i.stock.alpha=.5,i.stock.setInteractive(),i.stock.on("pointerup",function(){i.controller.emptyDeck()}),i.holderMap.stock1=i.stock,i.waste=t.add.sprite(275,280,"holder"),i.waste.setOrigin(.5),i.waste.type="waste",i.waste.no=1,i.waste.alpha=.5,i.holderMap.waste1=i.waste;for(var n=0;n<4;n++){var r=t.add.sprite(400+185*(n+3)-310,280,"holder");r.setOrigin(.5),r.type="foundations",r.no=n+1,r.alpha=.5;var o=t.add.sprite(r.x,r.y,"holder_".concat(n+1));o.setOrigin(.5),o.alpha=0,i.add(o),i.holderMap["foundations".concat(n+1)]=r,i.foundations.push(r),i.add(r)}for(var a=0;a<7;a++){var l=t.add.sprite(400+185*a-310,550,"holder");l.setOrigin(.5),l.type="tableau",l.no=a+1,l.alpha=.5,i.holderMap["tableau".concat(a+1)]=l,i.tableau.push(l),i.add(l)}for(var u=0;u<52;u++){var s=u%13+1,c=Math.floor(u/13),f=new d.default(t,i.stock.x-u/4,i.stock.y-u/3,s,c);i.deck.push(f),(i.deckMap[f.id]=f).onDrag.add(i._cardDrag,v(i)),f.onClick.add(i._cardClick,v(i))}return i.controller.onChange.add(i._onChange,v(i)),i.controller.prepare(i.deck),i.controller.checkPossibleMove(),t.input.on("dragstart",function(t,e){i.controller.canDrag(e.id)&&(i.multipleCards=i.controller.getTableauArray(e.id),e.dragStart(),1<i.multipleCards.length&&i._moveMultipleCards())}),t.input.on("drag",function(t,e,n,r){e.drag(n,r),1<i.multipleCards.length&&i._moveMultipleCards()}),t.input.on("dragend",function(t,e){e.dragEnd(),i.moveMultipleCards=!1,i.controller.checkPossibleMove()}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(h,Phaser.GameObjects.Group),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(h,[{key:"_moveMultipleCards",value:function(){this.moveMultipleCards=!0;var t=this.multipleCards[0],e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.multipleCards[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;1<=e&&(this.deckMap[l.id].x=this.deckMap[t.id].x,this.deckMap[l.id].y=this.deckMap[t.id].y+40*e),e++}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._sortDragingCards()}},{key:"_sortDragingCards",value:function(){var n=this;this.multipleCards.forEach(function(t,e){n.deckMap[t.id].setOrder(1500*e)})}},{key:"_moveBackMultipleCards",value:function(){var t=this.multipleCards[0],e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.multipleCards[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;1<=e&&this.deckMap[l.id].goTo(this.deckMap[t.id].previous.x,this.deckMap[t.id].previous.y+40*e),e++}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"_cardDrag",value:function(t){var e=this._canPlace(t);if(e&&this.controller.canPlace(t.id,e.type,e.number))return;t.goTo(t.previous.x,t.previous.y),1<this.multipleCards.length&&this._moveBackMultipleCards()}},{key:"_cardClick",value:function(t){var e=t.scene.time.now-this.lastTimeClick;this.lastTimeClick=t.scene.time.now,e<350?this.controller.checkPossibleMove(t.id,!0):(this.controller.canOpen(t.id),this.controller.checkPossibleMove())}},{key:"_canPlace",value:function(n){var t=[].concat(i(this.foundations),i(this.tableau),[this.stock,this.waste]).filter(function(t){var e=t.getBounds();return"tableau"==t.type&&(e.height=1e3),e.contains(n.x,n.y)});if(t.length){var e=t[0];return{type:e.type,number:e.no}}return null}},{key:"_onChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.flip&&this._flipCard(a.card,a.flip),a.move&&this._moveCard(a.card,a.move)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}this.controller._checkFinish()}},{key:"_flipCard",value:function(t,e){var n=e.flipped;this.deckMap[t.id].flip(n)}},{key:"_moveCard",value:function(t,e){var n=e.field,r=e.number,i=e.order;this._cardPlacing(this.deckMap[t.id],n,r,i)}},{key:"_sort",value:function(){var n=this;if(!this.moveMultipleCards){for(var t=0;t<this.controller.stock.length;t++){var e=this.controller.stock[t],r=this.deckMap[e.id];r.setOrder(t),r.x=this.stock.x-t/2,r.y=this.stock.y-t}for(var i=0;i<this.controller.waste.length;i++){var o=this.controller.waste[i];this.deckMap[o.id].setOrder(i+100)}for(var a in this.controller.tableau){this.controller.tableau[a].forEach(function(t,e){n.deckMap[t.id].setOrder(e)})}for(var l in this.controller.foundations){this.controller.foundations[l].forEach(function(t,e){n.deckMap[t.id].setOrder(e)})}}}},{key:"_cardPlacing",value:function(t,e,n,r){var i=this.holderMap[e+n];"stock"===i.type?t.goTo(i.x-r/2,i.y-r):"waste"===i.type?1===this.controller.gameType?t.goTo(i.x-r/2,i.y-r):t.goTo(i.x+30*r,i.y):t.goTo(i.x,i.y+40*r)}}]),h}();n.default=l},{"../component/Card":3}],9:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,o(e).call(this,{key:"boot"})),u(a(t),"timer",null),u(a(t),"fontFamilies",["Amatic SC","Oswald","Titillium Web"]),u(a(t),"minimumTimeout",500),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,Phaser.Scene),function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)}(e,[{key:"preload",value:function(){this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js","https://fonts.googleapis.com/css?family=Titillium+Web:400,900&display=swap")}},{key:"create",value:function(){var t=this;this.cameras.main.setBackgroundColor("#ffffff"),WebFont.load({google:{families:this.fontFamilies},active:function(){return t.startLoading()}}),this.game.gameType=1}},{key:"startLoading",value:function(){var t=this;this.load.once("start",this.loadGameAssets),this.load.once("complete",function(){return t.nextScene()}),this.timer=this.time.addEvent({delay:500,loop:!0}),this.load.start()}},{key:"loadGameAssets",value:function(){this.image("holder","holder.png"),this.image("flipped_card","flipped_card.png"),this.image("button_three_card","button_three_card.png"),this.image("button_options","button_options.png"),this.image("button_how_to","but_how_to.png"),this.image("button_undo","btn_undo.png"),this.image("tranps_bg","transparent_bg.png"),this.image("pop_up","popUp.png"),this.image("button_exit_pop_up","btn_exit.png"),this.image("button_one_card_big","button_one_card_big.png"),this.image("button_three_card_big","button_three_card_big.png"),this.image("holder_1","spade_holder.png"),this.image("holder_2","heart_holder.png"),this.image("holder_3","club_holder.png"),this.image("holder_4","diamond_holder.png"),this.image("arrow","arrow.png"),this.image("score","score.png"),this.image("time","time.png"),this.image("turn_1","turn_1.png"),this.image("turn_3","turn_3.png"),this.spritesheet("cards","cards.png",{frameWidth:155,frameHeight:240,endFrame:52})}},{key:"nextScene",value:function(){var e=this,t=0;0<this.minimumTimeout-this.timer.getProgress()&&(t=this.minimumTimeout-this.timer.getProgress()),setTimeout(function(){var t=e.game.customOptions.type;"one"===t||"three"===t?(t="one"===t?1:3,e.scene.start("game",{type:t})):e.scene.start("game")},t)}}]),e}();n.default=s},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("../controller/solitaireController")),i=a(t("../group/playGround")),o=a(t("../component/Button"));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?c(t):e}(this,s(e).call(this,{key:"game"})),h(c(t),"controller",null),h(c(t),"playGround",null),h(c(t),"btn_new",null),h(c(t),"btn_options",null),h(c(t),"btn_how_to",null),h(c(t),"btn_undo",null),h(c(t),"new_text",null),h(c(t),"options_text",null),h(c(t),"how_to_text",null),h(c(t),"undo_text",null),h(c(t),"optionsPopUpGroup",null),h(c(t),"howToPopUpGroup",null),h(c(t),"finishPopUpGroup",null),h(c(t),"timer",null),h(c(t),"counter",0),h(c(t),"points",0),h(c(t),"popUpIsOpen",!1),h(c(t),"score_img",null),h(c(t),"time_img",null),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,Phaser.Scene),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(e,[{key:"create",value:function(){var e=this,t=this.scene.settings.data.type;this.cameras.main.setBackgroundColor("#ffffff"),this.btn_new=new o.default(this,62,78,"button_three_card"),this.btn_new.setOrigin(.5),this.btn_new.onClick.add(this.btnNewClicked,this),this.btn_turn_1=new o.default(this,182,78,"turn_1"),this.btn_turn_1.setOrigin(.5),this.btn_turn_1.onClick.add(function(){return e.game.customOptions.openGame(1)},this),this.btn_turn_3=new o.default(this,302,78,"turn_3"),this.btn_turn_3.setOrigin(.5),this.btn_turn_3.onClick.add(function(){return e.game.customOptions.openGame(3)},this),this.btn_new=new o.default(this,62,78,"button_three_card"),this.btn_new.setOrigin(.5),this.btn_new.onClick.add(this.btnNewClicked,this),this.btn_how_to=new o.default(this,1126,78,"button_how_to"),this.btn_how_to.setOrigin(.5),this.btn_how_to.onClick.add(function(){e.game.customOptions.onHowTo()},this),this.btn_undo=new o.default(this,1246,78,"button_undo"),this.btn_undo.onClick.add(function(){return e.controller.undo()}),this.btn_undo.setOrigin(.5),this.score_img=this.add.image(613,69,"score"),this.score_img.setOrigin(.5),this.time_img=this.add.image(790,69,"time"),this.time_img.setOrigin(.5),this.points_text=this.add.text(665,69,"0",{fontFamily:"Titillium Web",fontStyle:"bold",fontSize:"28px",color:"#000000",align:"left"}),this.points_text.setOrigin(0,.5),this.time_text=this.add.text(835,69,"00:00",{fontFamily:"Titillium Web",fontStyle:"bold",fontSize:"28px",color:"#000000",align:"left"}),this.time_text.setOrigin(0,.5),this.timer=this.time.addEvent({delay:1e3,callback:function(){return e.count()},loop:!0}),this.onPlayClick(t),this.controller.onChangePoints.add(this.changePointsText,this),this.controller.finishGame.add(function(){for(var t in e.popUpIsOpen=!0,e.playGround.deckMap)e.playGround.deckMap[t].on("pointerdown",function(){e.popUpIsOpen=!1,e.points=0,e.counter=0,e.scene.restart({type:e.scene.settings.data.type})}),e.physics.world.enable(e.playGround.deckMap[t]),e.playGround.deckMap[t].body.setVelocity(0+100*Math.random(),200+400*Math.random()).setBounce(1,1).setCollideWorldBounds(!0)},this)}},{key:"count",value:function(){this.popUpIsOpen||this.counter++,this.time_text.setText("".concat(this.timeParser(this.counter)))}},{key:"timeParser",value:function(t){var e=0<arguments.length&&void 0!==t?t:1,n=window.Math.floor(e/60),r=e%60;return r=r<10?"0"+r:r,"".concat(n=n<10?"0"+n:n,":").concat(r)}},{key:"onPlayClick",value:function(t){this.controller=new r.default(t||1),this.playGround=new i.default(this,this.controller)}},{key:"btnNewClicked",value:function(){this.points=0,this.counter=0,this.scene.restart({type:this.scene.settings.data.type})}},{key:"changePointsText",value:function(t){this.points=this.points+t<0?0:this.points+t,this.points_text.setText("".concat(this.points))}},{key:"finishGamePopUp",value:function(){var t=this;this.popUpIsOpen=!0,this.finishPopUpGroup=this.add.group();var e=new o.default(this,650,540,"tranps_bg");e.setInteractive(),e.setDepth(1e4);var n=this.finishPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=this.add.text(650,540,"CONGRATULATIONS\n You complete the game !!\nSCORE: ".concat(this.points),{fontFamily:"Titillium Web",fontSize:"20px",color:"#ffffff",align:"center",wordWrap:{width:n.width-20,useAdvancedWrap:!1}});r.setStroke("#ffffff",1),r.setOrigin(.5),this.finishPopUpGroup.add(r),e.onClick.add(function(){t.popUpIsOpen=!1,t.finishPopUpGroup.clear(t),t.points=0,t.counter=0,t.scene.restart({type:t.scene.settings.data.type})},this),this.finishPopUpGroup.children.entries.forEach(function(t){t.setDepth(10001)})}},{key:"update",value:function(){this.playGround._sort()}}]),e}();n.default=d},{"../component/Button":2,"../controller/solitaireController":6,"../group/playGround":8}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t("../component/Button")),i=o(t("../component/ToggleButton"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?s(t):e}(this,u(e).call(this,{key:"menu"})),f(s(t),"version",null),f(s(t),"bg",null),f(s(t),"logo",null),f(s(t),"playOne",null),f(s(t),"playThree",null),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,Phaser.Scene),function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(e,[{key:"create",value:function(){var t=this;this.bg=this.add.sprite(0,0,"bg"),this.bg.setOrigin(0,0),this.version=this.add.text(20,700,"0.0.1",{fontFamily:"Titillium Web",fontSize:"18px",color:"#f1f1f1"}),this.version.setOrigin(0,.5),this.logo=this.add.sprite(640,300,"game_logo"),this.logo.setOrigin(.5),this.playOne=new r.default(this,540,560,"button_play_one"),this.playOne.setScale(.5),this.playOne.setOrigin(.5),this.playOne.onClick.add(function(){return t.onPlayClick(1)},this),this.playThree=new r.default(this,740,560,"button_play_three"),this.playThree.setScale(.5),this.playThree.setOrigin(.5),this.playThree.onClick.add(function(){return t.onPlayClick(3)},this),this.soundButton=new i.default(this,50,50,"button_sound_on","button_sound_off"),this.soundButton.setOrigin(.5),this.soundButton.setScale(.5)}},{key:"onPlayClick",value:function(t){this.scene.start("game",{type:t})}}]),e}();n.default=h},{"../component/Button":2,"../component/ToggleButton":4}],12:[function(t,e,n){"use strict";var r,i=(r=t("./entryPoint"))&&r.__esModule?r:{default:r};window.runGame=function(t){return new i.default(t)}},{"./entryPoint":7}]},{},[12]);