!function o(a,s,l){function u(e,t){if(!s[e]){if(!a[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[e]={exports:{}};a[e][0].call(i.exports,function(t){return u(a[e][1][t]||t)},i,i.exports,o,a,s,l)}return s[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,i,e){!function(t){function a(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function r(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function e(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){e.prototype.dispatch.apply(t,arguments)}}e.prototype={VERSION:"1.0.0",memorize:!(a.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}),_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,o=this._indexOfListener(t,n);if(-1!==o){if((i=this._bindings[o]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new a(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){for(var e=this._bindings.length;--e,this._bindings[e]&&t._priority<=this._bindings[e]._priority;);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r])._listener===t&&n.context===e)return r;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return r(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return r(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){r(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r)for(e=this._bindings.slice(),this._shouldPropagate=!0;e[--r]&&this._shouldPropagate&&!1!==e[r].execute(n););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var n=e;n.Signal=e,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==i&&i.exports?i.exports=n:t.signals=n}(this)},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=t("signals");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function l(t,e,n,r){var i,o,a,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),o=this,a=f(l).call(this,t,e,n,r),i=!a||"object"!==c(a)&&"function"!=typeof a?d(o):a,p(d(i),"onClick",new u.Signal),p(d(i),"_texture",null),p(d(i),"_textureOnClick",null),t.children.add(d(i)),i._texture=r,i._textureOnClick=s,i.setInteractive(),i.on("pointerdown",function(){return i._clickDown()}),i.on("pointerup",function(){return i._clickUp()}),i}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,Phaser.GameObjects.Sprite),t=l,(e=[{key:"_clickDown",value:function(){this._textureOnClick&&this.setTexture(this._textureOnClick)}},{key:"_clickUp",value:function(){this.onClick.dispatch(),this._textureOnClick&&this.setTexture(this._texture)}}])&&r(t.prototype,e),n&&r(t,n),l}();n.default=o},{signals:1}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=(r=t("signals"))&&r.__esModule?r:{default:r};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function l(t,e,n,r,i){var o,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),a=this,s=f(l).call(this,t,e,n),o=!s||"object"!==c(s)&&"function"!=typeof s?d(a):s,p(d(o),"onClick",new u.default),p(d(o),"onDrag",new u.default),p(d(o),"_number",-1),p(d(o),"_color",-1),p(d(o),"_texture","cards"),p(d(o),"_flipped",!0),p(d(o),"_dragging",!1),p(d(o),"_draggable",!0),p(d(o),"previous",null),p(d(o),"nested",null),p(d(o),"_order",null),p(d(o),"_cardDraged",!1),o.depth=0,t.children.add(d(o)),o.color=i,o.number=r,o.setInteractive({draggable:!0}),o.on("pointerup",function(){return o.onClick.dispatch(d(o))},d(o)),o}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(l,Phaser.GameObjects.Sprite),t=l,(e=[{key:"_changeTexture",value:function(){if(this._flipped)this.setTexture("flipped_card");else if(0<=this._number&&0<=this._color){var t=13*this._color+this._number-1;this.setTexture(this._texture,t)}}},{key:"flip",value:function(t){var e=0<arguments.length&&void 0!==t&&t;this._flipped=e,this._changeTexture()}},{key:"dragStart",value:function(){this._draggable&&(this._tween&&(this._tween.stop(),this.x=this._tween.goTo.x,this.y=this._tween.goTo.y,this._tween=null),this._dragging=!0,this._order=this.depth,this.setDepth(1500+this._order),this.previous={x:this.x,y:this.y})}},{key:"setOrder",value:function(t){null===this._order?this.setDepth(t):(this._order=t,this.setDepth(1500+t))}},{key:"drag",value:function(t,e){this._dragging&&(this.x=t,this.y=e)}},{key:"dragEnd",value:function(){this._dragging&&(this._dragging=!1,this.setDepth(this._order),this._order=null,this.onDrag.dispatch(this))}},{key:"goTo",value:function(t,e,n){var r=this,i=2<arguments.length&&void 0!==n?n:400;this._order=this.depth,this.setDepth(1500+this._order),this._draggable=!1,this._tween=this.scene.add.tween({targets:this,x:t,y:e,duration:i,ease:"Power3",onComplete:function(){r._draggable=!0,r.setDepth(r._order),r._order=null}}),this._tween.goTo={x:t,y:e}}},{key:"color",set:function(t){if(t<0||3<t)throw new Error("errol");this._color=t,this._changeTexture()},get:function(){return this._color}},{key:"number",set:function(t){if(!(0<t&&t<14))throw new Error("error");this._number=t,this._changeTexture()},get:function(){return this._number}},{key:"id",get:function(){return btoa("".concat(this._number,"x").concat(this._color))}},{key:"flipped",get:function(){return this._flipped}}])&&i(t.prototype,e),n&&i(t,n),l}();n.default=a},{signals:1}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=t("signals");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function l(t,e,n,r,i){var o,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),a=this,s=f(l).call(this,t,e,n,r),o=!s||"object"!==c(s)&&"function"!=typeof s?d(a):s,p(d(o),"onClick",new u.Signal),p(d(o),"toggled",!1),p(d(o),"_texture",null),p(d(o),"_textureToggled",null),t.children.add(d(o)),o._texture=r,o._textureToggled=i,o.setInteractive(),o.on("pointerup",function(){return o._clickUp()}),o}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,Phaser.GameObjects.Sprite),t=l,(e=[{key:"_clickUp",value:function(){this.onClick.dispatch(this.toggled),this.toggled?this.setTexture(this._texture):this.setTexture(this._textureToggled),this.toggled=!this.toggled}}])&&r(t.prototype,e),n&&r(t,n),l}();n.default=o},{signals:1}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=a(t("./scenes/bootScene")),i=a(t("./scenes/menuScene")),o=a(t("./scenes/gameScene"));function a(t){return t&&t.__esModule?t:{default:t}}n.default=function(t){var e=t.baseURL;return{type:Phaser.AUTO,width:1920,height:1080,parent:"game",scene:[new r.default,new i.default,new o.default],physics:{default:"arcade",arcade:{gravity:{y:200},debug:!1}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_HORIZONTALLY},loader:{baseURL:e||"assets"}}}},{"./scenes/bootScene":9,"./scenes/gameScene":10,"./scenes/menuScene":11}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=t("signals");(r=t("../component/Card"))&&r.__esModule;function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"gameType",null),a(this,"onChange",new i.Signal),a(this,"onChangePoints",new i.Signal),a(this,"finishGame",new i.Signal),a(this,"appliedEvents",[]),a(this,"stock",[]),a(this,"waste",[]),a(this,"clickedCard",[]),a(this,"wasteEmpty",!0),a(this,"foundations",{f1:[]}),a(this,"tableau",{t1:[],t2:[],t3:[],t4:[],t5:[],t6:[],t7:[],t8:[],t9:[],t10:[],t11:[],t12:[],t13:[],t14:[],t15:[],t16:[],t17:[],t18:[],t19:[],t20:[],t21:[],t22:[],t23:[],t24:[],t25:[],t26:[],t27:[],t28:[]}),window.controller=this}var t,n,r;return t=e,(n=[{key:"prepare",value:function(t){var e=this,n=[],r=[],i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;this.stock.push({id:u.id,number:u.number,color:u.color,flipped:u.flipped})}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}this._shuffleDeck();for(var c=1;c<=28;c++){var f=this.stock.pop();this.tableau["t".concat(c)].push(f),r.push({card:f,flip:{flipped:!1,prev:f.flipped}}),f.flipped=!1,n.push({card:f,move:{field:"tableau",number:c,order:1,from:{}}})}for(var d=0;d<this.stock.length;d++){var p=this.stock[d];r.push({card:p,flip:{flipped:!1,prev:p.flipped}}),p.flipped=!1}this._applyEvents(n,!0),setTimeout(function(){e._applyEvents(r,!0)},300)}},{key:"checkPossibleMove",value:function(t,e){t&&this._checkPossibleMove(t,e)}},{key:"_isCardFree",value:function(t,e){for(var n=!1,r=0;r<e.length;r++)t===e[r].no&&(n=!0);return!!n}},{key:"_checkPossibleMove",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:null,r=1<arguments.length&&void 0!==e&&e;if(n){var i=this._getCardInfo(n);if(!i)return!1;if(i.card.flipped)return!1;if("waste"!=i.fieldName&&"tableau"!=i.fieldName&&"stock"!=i.fieldName)return!1;if(r){var o=this._isCardFree(i.fieldNumber,r);if(i.card.flipped||i.cardOrder<i.field.length-1||!o)return;if(13===i.card.number){var a={fieldName:i.fieldName,fieldNumber:i.fieldNumber,cardOrder:i.cardOrder,field:i.field};return this._dispatchMoveEvents(i.card,{fieldName:"foundations",fieldNumber:1,order:0},a),!0}}else if(13===i.card.number){var s={fieldName:i.fieldName,fieldNumber:i.fieldNumber,cardOrder:i.cardOrder,field:i.field};return this._dispatchMoveEvents(i.card,{fieldName:"foundations",fieldNumber:1,order:0},s),!0}return!1}return!1}},{key:"_dispatchMoveEvents",value:function(t,e,n){var r,i=[];r="tableau"==n.fieldName?this["".concat(n.fieldName)]["t".concat(n.fieldNumber)].pop():this["".concat(n.fieldName)].pop(),this["".concat(e.fieldName)]["f".concat(e.fieldNumber)].push(r),i.push({card:t,move:{field:e.fieldName,number:e.fieldNumber,order:0,from:{field:n.fieldName,number:n.fieldNumber,order:n.cardOrder}}}),n.field[n.field.length-1]&&(i.push({card:n.field[n.field.length-1],flip:{flipped:!1,prev:n.field[n.field.length-1].flipped}}),this.onChangePoints.dispatch(5),n.field[n.field.length-1].flipped=!1),i.push({card:t,flip:{flipped:!0,prev:!1}}),t.flipped=!0,this._applyEvents(i)}},{key:"undo",value:function(){var e=this;if(this.appliedEvents.length){this.onChangePoints.dispatch(-5);var t=this.appliedEvents.pop(),n=[],r=[],i=[],o=[],a=!0,s=!1,l=void 0;try{for(var u,c=t.reverse()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=u.value;f.move?(o.push("".concat(f.move.field,"-").concat(f.move.number)),n.push(f)):f.flip&&r.push(f)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}if(1<n.length&&n.length<14){var d={},p=!0,h=!1,y=void 0;try{for(var b,v=n[Symbol.iterator]();!(p=(b=v.next()).done);p=!0){var m=b.value;d["".concat(m.move.field,"-").concat(m.move.number)]||(d["".concat(m.move.field,"-").concat(m.move.number)]=[]),d["".concat(m.move.field,"-").concat(m.move.number)].push(m)}}catch(t){h=!0,y=t}finally{try{p||null==v.return||v.return()}finally{if(h)throw y}}for(var g in d["stock-1"]&&(d["stock-1"]=d["stock-1"].reverse()),d)d[g].forEach(function(t){return i.push(e._undoExactMove(t))})}else{var _=!0,w=!1,k=void 0;try{for(var O,P=n[Symbol.iterator]();!(_=(O=P.next()).done);_=!0){var x=O.value;i.push(this._undoMove(x))}}catch(t){w=!0,k=t}finally{try{_||null==P.return||P.return()}finally{if(w)throw k}}}for(var C=0,S=r;C<S.length;C++){var T=S[C];i.push(this._undoFlip(T))}this.onChange.dispatch(i)}}},{key:"_undoMove",value:function(t){var e=t.card,n=t.move.from,r=this._getField(t.move.field,t.move.number),i=this._getField(t.move.from.field,t.move.from.number),o=r.pop();return i.push(o),{card:e,move:n}}},{key:"_undoExactMove",value:function(t){var e=t.card,n=t.move.from,r=this._getField(t.move.field,t.move.number),i=this._getField(t.move.from.field,t.move.from.number),o=null,a=!0,s=!1,l=void 0;try{for(var u,c=r.entries()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var f=I(u.value,2),d=f[0],p=f[1];e.id===p.id&&(o=d)}}catch(t){s=!0,l=t}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var h=r.splice(o,1);return i.push.apply(i,y(h)),{card:e,move:n}}},{key:"_undoFlip",value:function(t){var e=t.card,n=t.flip.prev;return e.flipped=n,{card:e,flip:{flipped:n}}}},{key:"_getField",value:function(t,e){var n=this[t];return"tableau"!==t&&"foundations"!==t||(n=n[t.charAt(0)+e]),n}},{key:"canDrag",value:function(t,e){var n=this._getCardInfo(t);if(n.card.flipped)return!1;if("stock"==n.fieldName&&n.cardOrder==this.stock.length-1)return!0;var r=!0,i=!1,o=void 0;try{for(var a,s=this.waste.entries()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=I(a.value,2),u=l[0];if(l[1].id===t&&u!==this.waste.length-1)return!1}}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}for(var c in this.tableau){var f=this.tableau[c],d=!0,p=!1,h=void 0;try{for(var y,b=f[Symbol.iterator]();!(d=(y=b.next()).done);d=!0){var v=y.value;if(v.id===t){var m=this._getCardInfo(t);if(!this._isCardFree(m.fieldNumber,e))return!1;if(v.flipped)return!1}}}catch(t){p=!0,h=t}finally{try{d||null==b.return||b.return()}finally{if(p)throw h}}}return!0}},{key:"canPlace",value:function(t,e,n){var r,i=e.charAt(0)+n;return r="waste"==e||"stock"==e?this[e]:this[e][i],"foundations"===e?this._canPlaceFoundations(this._getCardInfo(t),r,n):"tableau"===e?this._canPlaceTableau(this._getCardInfo(t),r,n):("stock"===e||"waste"===e)&&this._canPlaceWaste(this._getCardInfo(t),r,n)}},{key:"emptyDeck",value:function(){if(!this.waste.length||this.stock.length)return!1;console.log(this.wasteEmpty,this.stock);for(var t=[],e=0;0!==this.waste.length;){var n=this.waste.pop();this.stock.push(n),t.push({card:n,move:{field:"stock",number:1,order:e,from:{field:"waste",number:1,order:this.waste.length}}}),e++}this._applyEvents(t)}},{key:"canClick",value:function(t){var e=this._getCardInfo(t);return("tableau"===e.fieldName||"waste"===e.fieldName)&&(22<=e.fieldNumber&&e.fieldNumber<=28?(this.clickedCard.length?(this.clickedCard[0].number,e.card.number,this.clickedCard=[]):this.clickedCard.push(e.card),!0):void 0)}},{key:"canOpen",value:function(t){var e=this._getCardInfo(t);if(!e)return!0;if("stock"!==e.fieldName)return!1;var n=this.stock.pop();this.waste.push(n);var r=[];return r.push({card:n,move:{field:"waste",number:1,order:this.waste.length,from:{field:"stock",number:e.fieldNumber,order:e.cardOrder}}}),r.push({card:n,flip:{flipped:!1,prev:n.flipped}}),n.flipped=!1,this._applyEvents(r),!0}},{key:"getTableauArray",value:function(t){var e=[];for(var n in this.tableau){var r=!1,i=!0,o=!1,a=void 0;try{for(var s,l=this.tableau[n].entries()[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=I(s.value,2),c=(u[0],u[1]);t===c.id&&(r=!0),r&&e.push(c)}}catch(t){o=!0,a=t}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}return e}},{key:"_canPlaceFoundations",value:function(t,e,n){var r=t.card,i=t.field,o=t.fieldName,a=!1;if(13==r.number){var s=i.pop();e.push(s),a=!0}else a=!1;if(a){var l=[],u=[];l.push({card:r,move:{field:"foundations",number:n,order:0,from:{field:o,number:t.fieldNumber,order:t.cardOrder}}}),i[i.length-1]&&(l.push({card:i[i.length-1],flip:{flipped:!1,prev:i[i.length-1].flipped}}),this.onChangePoints.dispatch(5),i[i.length-1].flipped=!1),this.foundations[this.foundations.length-1]&&(console.log("sasd"),u.push({card:this.foundations[this.foundations.length-1],flip:{flipped:!0,prev:!1}}),this.foundations[this.foundations.length-1].flipped=!0,this._applyEvents(u)),this._applyEvents(l),"foundations"!=o&&this.onChangePoints.dispatch(10)}return a}},{key:"_canPlaceTableau",value:function(t,e){var n=t.card,r=t.field,i=(t.fieldKey,t.fieldName);if("waste"!==i&&"foundations"!==i&&"tableau"!==i&&"stock"!==i)return!1;var o,a=e[e.length-1]||null;if(!a)return!1;if(o=this._getCardInfo(a.id),n.number+a.number!==13)return!1;var s,l,u=[];return s=r.pop(),this.foundations.f1.push(s),l=o.field.pop(),this.foundations.f1.push(l),u.push({card:n,move:{field:"foundations",number:1,order:0,from:{field:i,number:t.fieldNumber,order:t.cardOrder}}},{card:o.card,move:{field:"foundations",number:1,order:0,from:{field:"tableau",number:o.fieldNumber,order:o.cardOrder}}},{card:n,flip:{flipped:!0,prev:!1}},{card:o.card,flip:{flipped:!0,prev:!1}}),n.flipped=!0,o.card.flipped=!0,this._applyEvents(u),!0}},{key:"_canPlaceWaste",value:function(t,e){if(!e[e.length-1]||t.card.flipped)return!1;if(e[e.length-1].number+t.card.number!=13)return!1;var n,r,i=[],o=this._getCardInfo(e[e.length-1].id);return!o.card.flipped&&(n=t.field.pop(),this.foundations.f1.push(n),r=o.field.pop(),this.foundations.f1.push(r),i.push({card:t.card,move:{field:"foundations",number:1,order:0,from:{field:t.fieldName,number:t.fieldNumber,order:t.cardOrder}}},{card:o.card,move:{field:"foundations",number:1,order:0,from:{field:o.fieldName,number:o.fieldNumber,order:o.cardOrder}}}),this._applyEvents(i),!0)}},{key:"_getCardInfo",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=this.stock.entries()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=I(i.value,2),s=a[0],l=a[1];if(l.id===t)return{card:l,field:this.stock,fieldName:"stock",fieldKey:null,fieldNumber:1,cardOrder:s}}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}var u=!0,c=!1,f=void 0;try{for(var d,p=this.waste.entries()[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=I(d.value,2),y=h[0],b=h[1];if(b.id===t)return{card:b,field:this.waste,fieldName:"waste",fieldKey:null,fieldNumber:1,cardOrder:y}}}catch(t){c=!0,f=t}finally{try{u||null==p.return||p.return()}finally{if(c)throw f}}for(var v in this.foundations){var m=!0,g=!1,_=void 0;try{for(var w,k=this.foundations[v].entries()[Symbol.iterator]();!(m=(w=k.next()).done);m=!0){var O=I(w.value,2),P=O[0],x=O[1];if(x.id===t)return{card:x,field:this.foundations[v],fieldName:"foundations",fieldKey:v,fieldNumber:parseInt(v.charAt(1),10),cardOrder:P}}}catch(t){g=!0,_=t}finally{try{m||null==k.return||k.return()}finally{if(g)throw _}}}for(var C in this.tableau){var S=!0,T=!1,j=void 0;try{for(var M,E=this.tableau[C].entries()[Symbol.iterator]();!(S=(M=E.next()).done);S=!0){var N=I(M.value,2),G=N[0],U=N[1];if(U.id===t)return{card:U,field:this.tableau[C],fieldName:"tableau",fieldKey:C,fieldNumber:parseInt(C.split("").splice(1,2).join(""),10),cardOrder:G,fieldRow:this._checkRow(parseInt(C.split("").splice(1,2).join(""),10))}}}catch(t){T=!0,j=t}finally{try{S||null==E.return||E.return()}finally{if(T)throw j}}}return null}},{key:"_checkRow",value:function(t){return 1==t?1:2<=t&&t<=3?2:4<=t&&t<=6?3:7<=t&&t<=10?4:11<=t&&t<=15?5:16<=t&&t<=21?6:22<=t&&t<=28?7:void 0}},{key:"_shuffleDeck",value:function(){for(var t=0;t<this.stock.length;t++){var e=Math.round(Math.random()*(this.stock.length-1)),n=this.stock[t];this.stock[t]=this.stock[e],this.stock[e]=n}}},{key:"_applyEvents",value:function(t,e){e||this.appliedEvents.push(t),this.onChange.dispatch(t)}},{key:"_checkFinish",value:function(){var t=0;for(var e in this.tableau)0==this.tableau[e].length&&t++;28<=t&&this.finishGame.dispatch()}}])&&o(t.prototype,n),r&&o(t,r),e}();n.default=s},{"../component/Card":3,signals:1}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,l=(r=t("./config"))&&r.__esModule?r:{default:r};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(){function s(t){var e,n,r,i,o,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=this,e=!(r=c(s).call(this,(0,l.default)(t)))||"object"!==u(r)&&"function"!=typeof r?f(n):r,i=f(e),a=null,(o="customOptions")in i?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,e.customOptions=t,e._validateOptions(),e.scene.start("boot"),e}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,Phaser.Game),t=s,(e=[{key:"_validateOptions",value:function(){if(!this.customOptions)throw new Error("Game is not configured properly")}}])&&i(t.prototype,e),n&&i(t,n),s}();n.default=a},{"./config":5}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,m=(r=t("../component/Card"))&&r.__esModule?r:{default:r};function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function v(t,e){var i,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),n=this,r=_(v).call(this),i=!r||"object"!==g(r)&&"function"!=typeof r?w(n):r,k(w(i),"controller",void 0),k(w(i),"foundations",[]),k(w(i),"tableau",[]),k(w(i),"stock",null),k(w(i),"waste",null),k(w(i),"holderMap",{}),k(w(i),"multipleCards",[]),k(w(i),"lastTimeClick",0),k(w(i),"moveMultipleCards",!1),k(w(i),"canOpen",!0),k(w(i),"cardDraged",!1),k(w(i),"deck",[]),k(w(i),"deckMap",{}),window.deck=i.deckMap,i.controller=e,i.stock=t.add.sprite(173.5,280,"holder"),i.stock.setOrigin(.5),i.stock.type="stock",i.stock.no=1,i.stock.alpha=.5,i.stock.setInteractive(),i.stock.on("pointerup",function(){i.controller.emptyDeck()}),i.holderMap.stock1=i.stock,i.waste=t.add.sprite(344.5,280,"holder"),i.waste.setOrigin(.5),i.waste.type="waste",i.waste.no=1,i.waste.alpha=.5,i.holderMap.waste1=i.waste;var o=t.add.sprite(1741,280,"holder");o.setOrigin(.5),o.type="foundations",o.no=1,o.alpha=.5,i.holderMap["foundations".concat(1)]=o,i.foundations.push(o),i.add(o);for(var a=1,s=0,l=940.5,u=1,c=1,f=1;f<=a;f++){var d=t.add.sprite(l+170*(f-1),280+s,"holder");d.setOrigin(.5),d.alpha=0,d.type="tableau",d.no=u,d.row=c,i.holderMap["tableau".concat(u)]=d,i.tableau.push(d),i.add(d),f==a&&a<7&&(a++,c++,s+=80,l-=82,f=0),u++}for(var p=0;p<52;p++){var h=p%13+1,y=Math.floor(p/13),b=new m.default(t,i.stock.x-p/4,i.stock.y-p/3,h,y);i.deck.push(b),(i.deckMap[b.id]=b).onDrag.add(i._cardDrag,w(i)),b.onClick.add(i._cardClick,w(i))}return i.controller.onChange.add(i._onChange,w(i)),i.controller.prepare(i.deck),t.input.on("dragstart",function(t,e){var n=i._getActiveTableau(),r=i.controller.canDrag(e.id,n);(i.cardDraged=r)&&(i.multipleCards=i.controller.getTableauArray(e.id),e.dragStart(),1<i.multipleCards.length&&i._moveMultipleCards())}),t.input.on("drag",function(t,e,n,r){i.canOpen=!1,e.drag(n,r),1<i.multipleCards.length&&i._moveMultipleCards()}),t.input.on("dragend",function(t,e){setTimeout(function(){i.canOpen=!0},400),e.dragEnd(),i.moveMultipleCards=!1,i.cardDraged=!1}),i}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(v,Phaser.GameObjects.Group),t=v,(e=[{key:"_moveMultipleCards",value:function(){this.moveMultipleCards=!0;var t=this.multipleCards[0],e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.multipleCards[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;1<=e&&(this.deckMap[s.id].x=this.deckMap[t.id].x,this.deckMap[s.id].y=this.deckMap[t.id].y+40*e),e++}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this._sortDragingCards()}},{key:"_sortDragingCards",value:function(){var n=this;this.multipleCards.forEach(function(t,e){n.deckMap[t.id].setOrder(1500*e)})}},{key:"_moveBackMultipleCards",value:function(){var t=this.multipleCards[0],e=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.multipleCards[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;1<=e&&this.deckMap[s.id].goTo(this.deckMap[t.id].previous.x,this.deckMap[t.id].previous.y+40*e),e++}}catch(t){r=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"_cardDrag",value:function(t){var e=this._canPlace(t);if(e&&this.controller.canPlace(t.id,e.type,e.number))return;t.goTo(t.previous.x,t.previous.y),1<this.multipleCards.length&&this._moveBackMultipleCards()}},{key:"_cardClick",value:function(t){var e=t.scene.time.now-this.lastTimeClick,n=this._getActiveTableau();this.lastTimeClick=t.scene.time.now,e<350||(this.controller.checkPossibleMove(t.id),this.canOpen&&this.controller.canOpen(t.id)),this.controller.checkPossibleMove(t.id,n)}},{key:"_canPlace",value:function(e){var t=[].concat(i(this.foundations),i(this._getActiveTableau()),[this.stock,this.waste]).filter(function(t){return t.getBounds().contains(e.x,e.y)});if(t.length){var n=t[0];return{type:n.type,number:n.no}}return null}},{key:"_getActiveTableau",value:function(){for(var t=[],e=0;e<this.tableau.length;e++)this.controller.tableau["t".concat(this.tableau[e].no+this.tableau[e].row)]||this.controller.tableau["t".concat(this.tableau[e].no+this.tableau[e].row+1)]?0==this.controller.tableau["t".concat(this.tableau[e].no+this.tableau[e].row)].length&&0==this.controller.tableau["t".concat(this.tableau[e].no+this.tableau[e].row+1)].length&&t.push(this.tableau[e]):t.push(this.tableau[e]);return t}},{key:"_onChange",value:function(t){var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.flip&&this._flipCard(a.card,a.flip),a.move&&this._moveCard(a.card,a.move)}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}this.controller._checkFinish()}},{key:"_flipCard",value:function(t,e){var n=e.flipped;this.deckMap[t.id].flip(n)}},{key:"_moveCard",value:function(t,e){var n=e.field,r=e.number,i=e.order;this._cardPlacing(this.deckMap[t.id],n,r,i)}},{key:"_sort",value:function(){var n=this;if(!this.moveMultipleCards&&!this.cardDraged){for(var t=0;t<this.controller.stock.length;t++){var e=this.controller.stock[t],r=this.deckMap[e.id];r.setOrder(t),r.x=this.stock.x-t/2,r.y=this.stock.y-t}for(var i=0;i<this.controller.waste.length;i++){var o=this.controller.waste[i];this.deckMap[o.id].setOrder(i+100)}for(var a=28;1<=a;a--){if(this.controller.tableau["t".concat(a)][0])this.deckMap[this.controller.tableau["t".concat(a)][0].id].setOrder(a)}for(var s in this.controller.foundations){this.controller.foundations[s].forEach(function(t,e){n.deckMap[t.id].setOrder(e)})}}}},{key:"_cardPlacing",value:function(t,e,n,r){var i=this.holderMap[e+n];"stock"===i.type||"waste"===i.type?t.goTo(i.x-r/2,i.y-r):t.goTo(i.x,i.y)}}])&&o(t.prototype,e),n&&o(t,n),v}();n.default=s},{"../component/Card":3}],9:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function r(){var t,e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=this,t=!(n=a(r).call(this,{key:"boot"}))||"object"!==i(n)&&"function"!=typeof n?s(e):n,u(s(t),"timer",null),u(s(t),"fontFamilies",["Amatic SC","Oswald","Titillium Web"]),u(s(t),"minimumTimeout",500),t}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,Phaser.Scene),t=r,(e=[{key:"preload",value:function(){this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js","https://fonts.googleapis.com/css?family=Titillium+Web:400,900&display=swap")}},{key:"create",value:function(){var t=this;this.cameras.main.setBackgroundColor("#ffffff"),WebFont.load({google:{families:this.fontFamilies},active:function(){return t.startLoading()}}),this.game.gameType=1}},{key:"startLoading",value:function(){var t=this;this.load.once("start",this.loadGameAssets),this.load.once("complete",function(){return t.nextScene()}),this.timer=this.time.addEvent({delay:500,loop:!0}),this.load.start()}},{key:"loadGameAssets",value:function(){this.image("holder","holder.png"),this.image("flipped_card","flipped_card.png"),this.image("button_three_card","button_three_card.png"),this.image("button_how_to","but_how_to.png"),this.image("button_undo","btn_undo.png"),this.image("tranps_bg","transparent_bg.png"),this.image("pop_up","popUp.png"),this.image("button_exit_pop_up","btn_exit.png"),this.image("button_one_card_big","button_one_card_big.png"),this.image("button_three_card_big","button_three_card_big.png"),this.image("holder_1","spade_holder.png"),this.image("holder_2","heart_holder.png"),this.image("holder_3","club_holder.png"),this.image("holder_4","diamond_holder.png"),this.image("arrow","arrow.png"),this.image("score","score.png"),this.image("time","time.png"),this.spritesheet("cards","cards.png",{frameWidth:155,frameHeight:240,endFrame:52})}},{key:"nextScene",value:function(){var t=this,e=0;0<this.minimumTimeout-this.timer.getProgress()&&(e=this.minimumTimeout-this.timer.getProgress()),setTimeout(function(){t.scene.start("game")},e)}}])&&o(t.prototype,e),n&&o(t,n),r}();n.default=r},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("../controller/solitaireController")),o=r(t("../group/playGround")),s=r(t("../component/Button"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(){function r(){var t,e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=this,t=!(n=u(r).call(this,{key:"game"}))||"object"!==a(n)&&"function"!=typeof n?c(e):n,d(c(t),"bg",null),d(c(t),"controller",null),d(c(t),"playGround",null),d(c(t),"btn_new",null),d(c(t),"btn_options",null),d(c(t),"btn_how_to",null),d(c(t),"btn_undo",null),d(c(t),"new_text",null),d(c(t),"options_text",null),d(c(t),"how_to_text",null),d(c(t),"undo_text",null),d(c(t),"optionsPopUpGroup",null),d(c(t),"howToPopUpGroup",null),d(c(t),"finishPopUpGroup",null),d(c(t),"timer",null),d(c(t),"counter",0),d(c(t),"points",0),d(c(t),"popUpIsOpen",!1),d(c(t),"score_img",null),d(c(t),"time_img",null),t}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,Phaser.Scene),t=r,(e=[{key:"create",value:function(){var e=this,t=this.scene.settings.data.type;this.cameras.main.setBackgroundColor("#ffffff"),this.btn_new=new s.default(this,139,78,"button_three_card"),this.btn_new.setOrigin(.5),this.btn_new.onClick.add(this.btnNewClicked,this),this.btn_how_to=new s.default(this,1667,78,"button_how_to"),this.btn_how_to.setOrigin(.5),this.btn_how_to.onClick.add(function(){e.game.customOptions.onHowTo()},this),this.btn_undo=new s.default(this,1787,78,"button_undo"),this.btn_undo.onClick.add(function(){return e.controller.undo()}),this.btn_undo.setOrigin(.5),this.score_img=this.add.image(908,69,"score"),this.score_img.setOrigin(.5),this.time_img=this.add.image(1085,69,"time"),this.time_img.setOrigin(.5),this.points_text=this.add.text(960,69,"0",{fontFamily:"Titillium Web",fontStyle:"bold",fontSize:"28px",color:"#000000",align:"left"}),this.points_text.setOrigin(0,.5),this.time_text=this.add.text(1130,69,"00:00",{fontFamily:"Titillium Web",fontStyle:"bold",fontSize:"28px",color:"#000000",align:"left"}),this.time_text.setOrigin(0,.5),this.timer=this.time.addEvent({delay:1e3,callback:function(){return e.count()},loop:!0}),this.onPlayClick(t),this.controller.onChangePoints.add(this.changePointsText,this),this.controller.finishGame.add(function(){for(var t in e.popUpIsOpen=!0,e.playGround.deckMap)e.playGround.deckMap[t].on("pointerdown",function(){e.popUpIsOpen=!1,e.points=0,e.counter=0,e.scene.restart({type:e.scene.settings.data.type})}),e.physics.world.enable(e.playGround.deckMap[t]),e.playGround.deckMap[t].body.setVelocity(0+100*Math.random(),200+400*Math.random()).setBounce(1,1).setCollideWorldBounds(!0)},this)}},{key:"count",value:function(){this.popUpIsOpen||this.counter++,this.time_text.setText("".concat(this.timeParser(this.counter)))}},{key:"timeParser",value:function(t){var e=0<arguments.length&&void 0!==t?t:1,n=window.Math.floor(e/60),r=e%60;return r=r<10?"0"+r:r,"".concat(n=n<10?"0"+n:n,":").concat(r)}},{key:"onPlayClick",value:function(t){this.controller=new i.default(t||1),this.playGround=new o.default(this,this.controller)}},{key:"btnNewClicked",value:function(){this.points=0,this.counter=0,this.scene.restart({type:this.scene.settings.data.type})}},{key:"btnOptionsClicked",value:function(){var t=this;this.popUpIsOpen=!0,this.optionsPopUpGroup=this.add.group();var e=new s.default(this,650,540,"tranps_bg");e.setInteractive(),this.optionsPopUpGroup.add(e);var n=this.optionsPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=new s.default(this,520,480,"button_one_card_big");r.setOrigin(.5),this.optionsPopUpGroup.add(r);var i=this.add.text(520,570,"Turn 1",{fontFamily:"Titillium Web",fontSize:"28px",color:"#ffffff"},this.optionsPopUpGroup);i.setStroke("#ffffff",1),i.setOrigin(.5),this.optionsPopUpGroup.add(i);var o=new s.default(this,750,465,"button_three_card_big");o.setOrigin(.5),this.optionsPopUpGroup.add(o);var a=this.add.text(750,570,"Turn 3",{fontFamily:"Titillium Web",fontSize:"28px",color:"#ffffff"});a.setStroke("#ffffff",1),a.setOrigin(.5),this.optionsPopUpGroup.add(a),this.optionsPopUpGroup.setDepth(5e3),e.onClick.add(function(){t.popUpIsOpen=!1,t.optionsPopUpGroup.clear(t)},this),r.onClick.add(function(){t.optionsPopUpGroup.clear(t),t.points=0,t.counter=0,t.popUpIsOpen=!1,t.scene.restart({type:1})},this),o.onClick.add(function(){t.optionsPopUpGroup.clear(t),t.points=0,t.counter=0,t.popUpIsOpen=!1,t.scene.restart({type:3})},this)}},{key:"btnHowToClicked",value:function(){var t=this;this.popUpIsOpen=!0,this.howToPopUpGroup=this.add.group();var e=new s.default(this,650,540,"tranps_bg");e.setInteractive();var n=this.howToPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=this.add.text(960,540,"The card piles in board can be build down by decrescent card number with alternate color.\nGOAL : The goal is to build up four foundation by suit, from Ace to King.",{fontFamily:"Titillium Web",fontSize:"20px",color:"#ffffff",align:"center",wordWrap:{width:n.width-20,useAdvancedWrap:!1}});r.setStroke("#ffffff",1),r.setOrigin(.5);var i=new s.default(this,870,590,"arrow");i.setOrigin(.5),i.setInteractive();var o=new s.default(this,420,590,"arrow");o.flipX=!0,o.setOrigin(.5),o.setInteractive(),o.alpha=0,this.howToPopUpGroup.add(r),this.howToPopUpGroup.add(i),this.howToPopUpGroup.add(o),this.howToPopUpGroup.add(e),this.howToPopUpGroup.setDepth(5e3),i.onClick.add(function(){i.alpha=0,o.alpha=1,r.setText("POINTS :\nWaste to Tableau = 5\nWaste to Foundation = 10\nTableau to Foundation = 10\nTurn over Tableau card = 5\nFoundation to Tableau = -15")},this),o.onClick.add(function(){o.alpha=0,i.alpha=1,r.setText("The card piles in board can be build down by decrescent card number with alternate color.\nGOAL : The goal is to build up four foundation by suit, from Ace to King.")},this),e.onClick.add(function(){t.popUpIsOpen=!1,t.howToPopUpGroup.clear(t)},this)}},{key:"changePointsText",value:function(t){this.points=this.points+t<0?0:this.points+t,this.points_text.setText("".concat(this.points))}},{key:"finishGamePopUp",value:function(){var t=this;this.popUpIsOpen=!0,this.finishPopUpGroup=this.add.group();var e=new s.default(this,650,540,"tranps_bg");e.setInteractive(),e.setDepth(1e4);var n=this.finishPopUpGroup.create(650,540,"pop_up");n.setOrigin(.5),n.setInteractive();var r=this.add.text(650,540,"CONGRATULATIONS\n You complete the game !!\nSCORE: ".concat(this.points),{fontFamily:"Titillium Web",fontSize:"20px",color:"#ffffff",align:"center",wordWrap:{width:n.width-20,useAdvancedWrap:!1}});r.setStroke("#ffffff",1),r.setOrigin(.5),this.finishPopUpGroup.add(r),e.onClick.add(function(){t.popUpIsOpen=!1,t.finishPopUpGroup.clear(t),t.points=0,t.counter=0,t.scene.restart({type:t.scene.settings.data.type})},this),this.finishPopUpGroup.children.entries.forEach(function(t){t.setDepth(10001)})}},{key:"update",value:function(){this.playGround._sort()}}])&&l(t.prototype,e),n&&l(t,n),r}();n.default=p},{"../component/Button":2,"../controller/solitaireController":6,"../group/playGround":8}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=r(t("../component/Button")),o=r(t("../component/ToggleButton"));function r(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function r(){var t,e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),e=this,t=!(n=l(r).call(this,{key:"menu"}))||"object"!==a(n)&&"function"!=typeof n?u(e):n,f(u(t),"version",null),f(u(t),"bg",null),f(u(t),"logo",null),f(u(t),"playOne",null),f(u(t),"playThree",null),t}var t,e,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,Phaser.Scene),t=r,(e=[{key:"create",value:function(){var t=this;this.bg=this.add.sprite(0,0,"bg"),this.bg.setOrigin(0,0),this.version=this.add.text(20,700,"0.0.1",{fontFamily:"Titillium Web",fontSize:"18px",color:"#f1f1f1"}),this.version.setOrigin(0,.5),this.logo=this.add.sprite(640,300,"game_logo"),this.logo.setOrigin(.5),this.playOne=new i.default(this,540,560,"button_play_one"),this.playOne.setScale(.5),this.playOne.setOrigin(.5),this.playOne.onClick.add(function(){return t.onPlayClick(1)},this),this.playThree=new i.default(this,740,560,"button_play_three"),this.playThree.setScale(.5),this.playThree.setOrigin(.5),this.playThree.onClick.add(function(){return t.onPlayClick(3)},this),this.soundButton=new o.default(this,50,50,"button_sound_on","button_sound_off"),this.soundButton.setOrigin(.5),this.soundButton.setScale(.5)}},{key:"onPlayClick",value:function(t){this.scene.start("game",{type:t})}}])&&s(t.prototype,e),n&&s(t,n),r}();n.default=d},{"../component/Button":2,"../component/ToggleButton":4}],12:[function(t,e,n){"use strict";var r,i=(r=t("./entryPoint"))&&r.__esModule?r:{default:r};window.runGame=function(t){return new i.default(t)}},{"./entryPoint":7}]},{},[12]);